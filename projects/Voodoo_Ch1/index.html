<!DOCTYPE html> 
<html lang="en">
<head>

<meta name="robots" content="noindex"/>
<meta name="viewport" content="minimum-scale=1.0, maximum-scale=1.0, width=device-width, user-scalable=no"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

<title>Livre généré</title>

<script type="text/javascript">
addEventListener("load", function(){
	setTimeout(function(){window.scrollTo(0, 1);}, 0);
	$('body').css({'margin':'0px','padding':'0px'});
}, false);
</script>

<link rel="stylesheet" href="../support/flarevideo/flarevideo.css" type="text/css">
<link rel="stylesheet" href="../support/flarevideo/flarevideo.default.css" type="text/css">
<script src="../support/jquery-latest.js"></script>
<script src="../support/BrowserDetect.js"></script>
<script src="../support/flarevideo/jquery.ui.slider.js" type="text/javascript"></script>
<script src="../support/flarevideo/flarevideo.js" type="text/javascript"></script> 
<script src="../support/Interaction.js"></script>
<script src="../support/Tools.js"></script>

</head>

<body>

<script type="text/javascript">

var __currContextOwner__;
(function(h,e){var b=function(){};b.configs={font:"Verdana",srcPath:""};var d=b.configs;b.root=null;b.currTimeline=null;b.src=function(){return{list:{},loading:[],preload:[],loadInfo:"Chargement ressources: ",waitinglist:{},audExtCheck:/(.ogg|.mp3)/,init:function(){for(var a,b,g=0;12>g;g++){this.loading[g]=document.createElement("canvas");this.loading[g].width=300;this.loading[g].height=300;a=this.loading[g].getContext("2d");a.translate(150,150);b=2*Math.PI/12;a.fillStyle="#AAAAAA";for(var m=0;12>
m;m++)m==g?(a.fillStyle="#EEEEEE",a.fillRect(60,-9,60,18),a.fillStyle="#AAAAAA"):a.fillRect(60,-9,60,18),a.rotate(b)}},addSource:function(a,b,g,m){switch(g){case "img":case "image":this.list[a]=new Image;this.list[a].src=d.srcPath+b;this.list[a].lid=0;break;case "aud":case "audio":this.list[a]=document.createElement("audio");if(-1==b.search(this.audExtCheck))switch(MseConfig.browser){case "Chrome":case "Firefox":case "Opera":this.list[a].src=d.srcPath+b+".ogg";break;case "Safari":case "Explorer":this.list[a].src=
d.srcPath+b+".mp3"}else this.list[a].src=d.srcPath+b;this.list[a].load();break;default:return}this.list[a].type=g;m&&"aud"!=g&&"audio"!=g&&this.preload.push(this.list[a])},getSrc:function(a){a=this.list[a];if(!a)return null;switch(a.type){case "img":case "image":if(!a||a.complete)return a;12==a.lid&&(a.lid=0);return this.loading[a.lid++];case "aud":case "audio":return a}},waitSrc:function(a,b){if(this.list[a])if(this.list[a].complete)b.invoke();else{this.waitinglist[a]||(this.waitinglist[a]=[]);var g=
this.waitinglist[a];g.push(b);this.list[a].onload=function(){for(var a in g)g[a].invoke()}}},preloadProc:function(){for(var a=0,b=0;b<this.preload.length;b++)this.preload[b].complete&&a++;return[a,this.preload.length]},preloadPage:function(a,f,g){a.clearRect(0,0,b.root.width,b.root.height);a.save();a.strokeStyle="#333333";a.lineWidth=2;a.strokeRoundRect((b.root.width-280)/2,b.root.height-100,281,11,5);a.fillStyle="#555555";a.fillRoundRect((b.root.width-280)/2,b.root.height-100,280*(f/g),10,5);f=this.loadInfo+
f+"/"+g;g=a.measureText(f).width;a.font="20px "+d.font;a.fillStyle="#000000";a.fillText(f,(b.root.width-g)/2,b.root.height-60);a.restore()}}}();(function(){b.coords={};b.coorRatio=1;b.joinCoor=function(a){if(isNaN(a))return"";var f=0,g;for(g in b.coords){if(a==b.coords[g])return g;var m=g.match(/cid(\d+)/);if(m[1])var k=parseInt(m[1]);!isNaN(k)&&k>=f&&(f=k+1)}f="cid"+f;b.coords[f]=1==b.coorRatio?a:parseFloat((new Number(b.coorRatio*a)).toFixed(2));return f};b.coor=function(a){return isNaN(b.coords[a])?
0:b.coords[a]};b.realCoor=function(a){return isNaN(a)?0:1==b.coorRatio?a:parseFloat((new Number(b.coorRatio*a)).toFixed(2))}})();b.autoFitToWindow=function(a){a&&(h.autoFitCallback=a);if(b.coords.cid1)if(250<MseConfig.pageHeight){b.coorRatio=MseConfig.pageHeight/b.coords.cid1;for(var f in b.coords)b.coords[f]=parseFloat((new Number(b.coorRatio*b.coords[f])).toFixed(2));h.autoFitCallback&&h.autoFitCallback();h.autoFitCallback=null}else setTimeout(b.autoFitToWindow,1E3)};b.init=function(a){e.extend(d,
a);b.src.init();b.src.addSource("imgNotif","../images/turn_comp.png","img");b.src.addSource("fbBar","../images/barre/fb.png","img");b.src.addSource("wikiBar","../images/barre/wiki.png","img");b.src.addSource("wikiBn","../images/button/wiki.png","img");b.src.addSource("bookBn","../images/button/book.png","img");b.src.addSource("illuBn","../images/button/illu.png","img");b.src.addSource("audBn","../images/button/audIcon.png","img");b.src.addSource("accelerBn","../images/button/accelere.png","img",!0);
b.src.addSource("upBn","../images/button/monter.png","img",!0);b.src.addSource("ralentiBn","../images/button/ralenti.png","img",!0);b.src.addSource("downBn","../images/button/descend.png","img",!0);b.src.addSource("playBn","../images/button/play.png","img",!0);b.src.addSource("pauseBn","../images/button/pause.png","img",!0);b.src.addSource("ratImg","../images/rat.png","img")};var j={fb:"rgb(74,108,164)",wiki:"rgb(230,82,82)",audio:"#FFB11B"},i={};b.fade=function(a,f,g,m,k){a&&(a=new b.KeyFrameAnimation(a,
{frame:[0,f],opacity:[g,m]},1),k&&a.evtDeleg.addListener("end",k),a.start())};b.fadein=function(a,f,g){b.fade(a,f,0,1,g)};b.fadeout=function(a,f,g){b.fade(a,f,1,0,g)};b.slidein=function(a,f,g,m,k){!a instanceof b.UIObject||(isNaN(k)&&(k=1),a=new b.KeyFrameAnimation(a,{frame:[0,f],pos:g,opacity:[0,k]},1),m&&a.evtDeleg.addListener("end",m),a.start())};b.slideout=function(a,f,g,m){!a instanceof b.UIObject||(a=new b.KeyFrameAnimation(a,{frame:[0,f],pos:g,opacity:[a.globalAlpha,0]},1),m&&a.evtDeleg.addListener("end",
m,!1),a.start())};b.transition=function(a,f,g,m){var k=a.parent;k instanceof b.Layer&&k.insertBefore(f,a);b.fadein(f,g,m);b.fadeout(a,g,new b.Callback(k.delObject,k,a))};b.setCursor=function(a){-1!=a.indexOf(".")?b.root.jqObj.css("cursor",'url("'+a+'"), auto'):b.root.jqObj.get(0).style.cursor=a};b.changePage=function(a,f){f&&a.evtDeleg.addListener("click",new b.Callback(b.root.transition,b.root,b.root.container),!0);b.root.transition(a)};b.createBackLayer=function(a){if(i[a])return i[a];var f=new b.Layer(null,
0,{size:[b.root.width,b.root.height]});f.addObject(new b.Image(f,{size:[b.root.width,b.root.height]},a));return i[a]=f};b.Callback=function(a,b){if(!a)return null;this.func=a;this.caller=b;if(2<arguments.length){this.args=[];for(var g=2;g<arguments.length;g++)this.args.push(arguments[g])}this.link=function(a){this.linked||(this.linked=[]);this.linked.push(a)};this.invoke=function(a){var g=null;this.args?g=a?this.args.concat(a):this.args:!this.args&&a&&(g=[a]);this.func.apply(b,g);if(this.linked)for(var d in this.linked)this.linked[d].invoke()}};
b.EventListener=function(a,b,g,m){this.evtName=a;this.callback=b;this.target=m?m:b.caller;this.preventBubbling=g?g:!1;this.inObj=function(a,b){return a&&b?this.target.inObj?this.target.inObj(a,b)?!0:!1:!0:!0};this.notify=function(a){this.callback.invoke(a)}};b.EventDelegateSystem=function(){function a(a,b){var m=a.target,k=b.target;return!m||!m.getZindex?-1:!k||!k.getZindex?1:m.getZindex()<k.getZindex()?1:m.getZindex()>k.getZindex()?-1:0}this.listeners={};this.domObj=null;this.setDominate=function(a){this.domObj=
a};this.addListener=function(f,g,m,k){if("string"==typeof f&&g){this.listeners[f]||(this.listeners[f]=[]);var d=!1,m=new b.EventListener(f,g,m,k),e=this.listeners[f],h;for(h in e)if(e[h].callback==g&&(!k||e[h].target==k))d=!0,e.splice(h,1,m);d||this.listeners[f].push(m);this.listeners[f].sort(a)}};this.removeListeners=function(a){delete this.listeners[a]};this.removeListener=function(a,b){var m=this.listeners[a];if(m)for(var k=0;k<m.length;k++)if(m[k].callback==b){m.splice(k,1);break}};this.eventNotif=
function(a,b){var m=!1;switch(a){case "move":var k=this.listeners.enter;if(k)for(var d in k)if(k[d].target.inObj(b.offsetX,b.offsetY)&&!k[d].target.inObj(b.prev[0],b.prev[1])){k[d].notify(b);m=!0;break}}if(k=this.listeners[a])for(var e in k){if((!this.domObj||this.domObj==k[e].target||this.domObj==k[e].target.parent)&&(!b||k[e].inObj(b.offsetX,b.offsetY))){var h=k[e].preventBubbling;k[e].notify(b);m=!0}if(h)break}return m}};b.EventDistributor=function(a,f,g){this.distributor=function(a){this.rootEvt.eventNotif(a.type,
a);this.delegate&&this.delegate.eventNotif(a.type,a)};this.setDelegate=function(a){this.delegate=a};this.src=a;f.mseInteraction(this);f.mseInteraction("setDelegate",this.distributor);this.rootEvt=new b.EventDelegateSystem;g&&this.setDelegate(g);this.setDominate=function(a){this.rootEvt.setDominate(a);this.delegate&&this.delegate.setDominate(a)};this.addListener=function(a,b,f,g){this.rootEvt.addListener(a,b,f,g)};this.removeListeners=function(a){this.rootEvt.removeListeners(a)};this.removeListener=
function(a,b){this.rootEvt.removeListener(a,b)}};b.Link=function(a,b,g,d,k,e){this.src=a;this.index=b;this.type=g;this.link=d;switch(this.type){case "fb":this.image="fbBar";break;case "wiki":this.image="wikiBar";break;case "illu":this.width=k?k:300,this.height=e?e:400}};b.UIObject=function(a,f){a?(this.parent=a,this.fixed=!1):this.parent=null;this.evtDeleg=new b.EventDelegateSystem;if(f&&(f.pos&&this.setPos(f.pos[0],f.pos[1]),f.size&&this.setSize(f.size[0],f.size[1]),f.font&&(this.font=f.font),f.fillStyle&&
(this.fillStyle=f.fillStyle),f.strokeStyle&&(this.strokeStyle=f.strokeStyle),this.globalAlpha=isNaN(f.globalAlpha)?1:f.globalAlpha,f.lineWidth&&(this.lineWidth=f.lineWidth),f.shadow&&(this.shadow=f.shadow),f.textAlign&&(this.textAlign=f.textAlign),f.textBaseline&&(this.textBaseline=f.textBaseline),f.insideRec))this.insideRec=f.insideRec};b.UIObject.prototype={offx:0,offy:0,width:0,height:0,fixed:!0,setPos:function(a,b,g){g?(this.offx=a+(this.fixed?g.getX():g.offx),this.offy=b+(this.fixed?g.getY():
g.offy)):(this.offx=a,this.offy=b)},setX:function(a,b){this.offx=b?a+(this.fixed?b.getX():b.offx):a},setY:function(a,b){this.offy=b?a+(this.fixed?b.getY():b.offy):a},getX:function(){return this.parent?this.parent.getX()+this.offx:this.offx},getY:function(){return this.parent?this.parent.getY()+this.offy:this.offy},getCanvasX:function(){if(this.parent)return this.parent.getCanvasX()+this.offx;var a=0;b.root.viewport&&(a=-b.root.viewport.x);return a+this.offx},getCanvasY:function(){if(this.parent)return this.parent.getCanvasY()+
this.offy;var a=0;b.root.viewport&&(a=-b.root.viewport.y);return a+this.offy},setSize:function(a,b){this.width=a;this.height=b},getWidth:function(){return this.width},getHeight:function(){return this.height},inObj:function(a,b){if(1>this.getAlpha())return!1;if(this.insideRec)var g=this.getCanvasX()+this.insideRec[0],d=this.getCanvasY()+this.insideRec[1],k=this.insideRec[2],e=this.insideRec[3];else g=this.getCanvasX(),d=this.getCanvasY(),k=this.getWidth(),e=this.getHeight();return a>g&&a<g+k&&b>d&&
b<d+e?!0:!1},getZindex:function(){return this.zid?this.zid:this.parent?this.parent.zid:0},getContainer:function(){return this instanceof b.BaseContainer?this:this.parent?this.parent.getContainer():b.root.container},setAlpha:function(a){this.globalAlpha=a},getAlpha:function(){return this.parent?this.parent.getAlpha()*this.globalAlpha:this.globalAlpha},getScale:function(){return isNaN(this.scale)?this.parent?this.parent.getScale():1:this.parent?this.parent.getScale()*this.scale:this.scale},move:function(a,
b){this.offx+=a;this.offy+=b},addListener:function(){this.evtDeleg.addListener.apply(this.evtDeleg,arguments)},removeListener:function(){this.evtDeleg.removeListener.apply(this.evtDeleg,arguments)},configCtxFlex:function(a){this.font&&(a.font=this.font);this.fillStyle&&(a.fillStyle=this.fillStyle);this.strokeStyle&&(a.strokeStyle=this.strokeStyle);this.lineWidth&&(a.lineWidth=this.lineWidth);this.shadow?(a.shadowOffsetX=this.shadow.shadowOffsetX,a.shadowOffsetY=this.shadow.shadowOffsetY,a.shadowBlur=
this.shadow.shadowBlur,a.shadowColor=this.shadow.shadowColor):a.shadowOffsetX=a.shadowOffsetY=a.shadowBlur=0;this.textAlign&&(a.textAlign=this.textAlign);this.textBaseline&&(a.textBaseline=this.textBaseline);a.globalAlpha=this.getAlpha()},configCtx:function(a){a.restore();a.save();this.configCtxFlex(a);var b=this.getScale();1!=b&&a.scale(b,b)},draw:function(){},logic:function(){},toString:function(){return"[object MseUIObject]"}};b.Root=function(a,f,g){this.setPos=function(a,b){this.jqObj.css({left:a+
"px",top:b+"px"})};this.setSize=function(a,b){this.width=a;this.height=b;this.jqObj.attr({width:a,height:b})};this.setScale=function(a){if(1<a){this.height*a>MseConfig.pageHeight&&(a=MseConfig.pageHeight/this.height);this.width*a>MseConfig.pageWidth&&(a=MseConfig.pageWidth/this.width);var b=this.width*a,f=this.height*a;this.setPos((MseConfig.pageWidth-b)/2,(MseConfig.pageHeight-f)/2);this.setSize(b,f);this.scale=a}};this.setCenteredViewport=function(){this.viewport={};this.viewport.x=(this.width-
MseConfig.pageWidth)/2;this.viewport.y=(this.height-MseConfig.pageHeight)/2;this.jqObj.attr({width:MseConfig.pageWidth,height:MseConfig.pageHeight});this.jqObj.css({left:"0px",top:"0px"});this.ctx.translate(-this.viewport.x,-this.viewport.y)};this.setContainer=function(a){this.container&&(this.container.firstShow=!1);a.root=this;this.container=a;this.evtDistributor.setDelegate(a.evtDeleg);this.dest=null;this.container.scale=this.scale};this.transition=function(a){this.dest||(this.container?(b.fadeout(this.container,
20,new b.Callback(this.setContainer,this,a)),this.dest=a):this.setContainer(a),b.fadein(a,20))};this.inObj=function(){return!0};this.logic=function(a){for(var b in this.animations)this.animations[b].logic(a)&&this.animations.splice(b,1);var f=!1;for(b in this.animes)this.animes[b].block&&(f=!0),this.animes[b].logic(a)&&this.animes.splice(b,1);f||this.gamewindow.logic(a)||this.container&&this.container.logic(a)};this.draw=function(){MseConfig.mobile?this.ctx.clearRect(0,0,MseConfig.pageWidth,MseConfig.pageHeight):
this.ctx.clearRect(0,0,this.width,this.height);if(!MseConfig.mobile||!(this.gamewindow.currGame&&"INDEP"==this.gamewindow.currGame.type))this.container&&this.container.draw(this.ctx),this.dest&&this.dest.draw(this.ctx);this.gamewindow.currGame&&this.gamewindow.draw(this.ctx);for(var a in this.animes)this.animes[a].draw(this.ctx);this.evtDistributor.rootEvt.eventNotif("drawover",this.ctx)};this.initTimeline=function(){};this.runTimeline=function(a){this.init?this.end?b.currTimeline.end=!0:(this.logic(a),
this.draw()):(a=b.src.preloadProc(),a[0]<a[1]?b.src.preloadPage(this.ctx,a[0],a[1]):this.init=!0)};b.root=this;this.jqObj=e("<canvas></canvas>");this.jqObj.attr({id:a});a=(MseConfig.pageWidth-f)/2;this.jqObj.css({margin:"0px auto",padding:"0px",position:"absolute",left:a+"px",top:"0px"});e("body").css({position:"relative"}).append(this.jqObj);this.scale=1;this.setSize(f,g);this.interval=40;this.ctx=this.jqObj.get(0).getContext("2d");MseConfig.mobile&&(this.setCenteredViewport(),e(h).bind("orientationchange",
function(){b.root.setCenteredViewport()}));this.evtDistributor=new b.EventDistributor(this,this.jqObj);this.container=null;this.init=this.end=!1;this.animations=[];this.animes=[];var d=e('<div id="video">');d.css({position:"absolute",width:0.8*f+"px",height:0.8*g+"px",left:a+0.1*f+"px",top:0.1*g+"px"});e("body").prepend(d);this.video=d.flareVideo(e("body"));this.video.hide();this.gamewindow=new b.GameShower;b.currTimeline=new b.Timeline(this,this.interval)};b.BaseContainer=function(a,f,g){b.UIObject.call(this,
null,f);this._layers=[];this._changed=[];this.deleg=null;this.scale=1;this.count=0;this.firstShow=!1;MseConfig.mobile?(this.orientation=MseConfig.orientation,this.normal=!0,this.setOrientation(g?g:"portrait")):this.normal=!0;a&&a.setContainer(this)};extend(b.BaseContainer,b.UIObject);e.extend(b.BaseContainer.prototype,{setOrientation:function(a){MseConfig.mobile&&!("landscape"!=a&&"portrait"!=a)&&(this.orientation=a)},orientChange:function(a){__currContextOwner__=b.root;this.normal=a==this.orientation?
!0:!1;b.root.jqObj.attr({width:MseConfig.pageWidth,height:MseConfig.pageHeight});b.root.width=MseConfig.pageWidth;b.root.height=MseConfig.pageHeight},addLayer:function(a,f){null!=a&&f instanceof b.UIObject&&(f.name=a,this._layers.push(f),this.sortLayer())},delLayer:function(a){if(null!=a)for(var b in this._layers)this._layers[b].name==a&&this._layers.splice(b,1)},getLayer:function(a){if(null!=a)for(var b in this._layers)if(this._layers[b].name==a)return this._layers[b]},sortLayer:function(){this._layers.sort(function(a,
b){return a.zid<b.zid?-1:a.zid>b.zid?1:0})},setLayerActivate:function(a,b){null!=a&&null!=this._layers[a]&&this._layers[a].setActivate(b)},desactiveOthers:function(a){for(var b in this._layers)this._layers[b].active&&this._layers[b].name!=a&&(this._layers[b].setActivate(!1),this._changed.push(b))},reactiveOthers:function(){for(var a=this._changed.length,b=0;b<a;b++)this._layers[this._changed.pop()].setActivate(!0)},logic:function(a){if(!this.firstShow){this.firstShow=!0;this.evtDeleg.eventNotif("show");
for(var b in this._layers)this._layers[b].evtDeleg.eventNotif("show")}MseConfig.mobile&&(this.normal&&MseConfig.orientation!=this.orientation?this.orientChange(MseConfig.orientation):!this.normal&&MseConfig.orientation==this.orientation&&this.orientChange(MseConfig.orientation));if(this.normal)if(this.deleg)this.deleg.logic(a);else for(b in this._layers)this._layers[b].logic(a);this.count++},draw:function(a){if(this.normal)if(this.deleg)this.deleg.draw(a);else{this.configCtx(a);for(var f in this._layers)this._layers[f].draw(a)}else a.drawImage(b.src.getSrc("imgNotif"),
(a.canvas.width-50)/2,(a.canvas.height-80)/2,50,80)},toString:function(){return"[object MseBaseContainer]"}});b.Layer=function(a,f,g){b.UIObject.call(this,a,g);this.zid=f;this.active=!0;this.objList=[]};extend(b.Layer,b.UIObject);e.extend(b.Layer.prototype,{getObjectIndex:function(a){if(this.objList.indexOf)var b=this.objList.indexOf(a);else for(var g in this.objList)if(this.objList[g]===a){b=g;break}return null!=b&&-1!=b?b:-1},addObject:function(a){return a instanceof b.UIObject?(this.objList.push(a),
!0):!1},insertObject:function(a,f){return a instanceof b.UIObject&&0<=f&&f<this.objList.length?(this.objList.splice(f,0,a),!0):!1},insertBefore:function(a,b){var g=this.getObjectIndex(b);-1!=g&&this.insertObject(a,g)},insertAfter:function(a,b){var g=this.getObjectIndex(b);-1!=g&&(g+1==this.objList.length?this.addObject(a):this.insertObject(a,g+1))},delObject:function(a){if(isNaN(a)){if(a instanceof b.UIObject){if(this.objList.indexOf)var f=this.objList.indexOf(a);else for(var g in this.objList)if(this.objList[g]===
a){f=g;break}return null!=f&&-1!=f?(this.objList.splice(f,1),f):!1}}else return this.objList.splice(a,1),a},delAll:function(){for(var a in this.objList)delete this.objList[a];this.objList.length=0},getObject:function(a){return 0<=a&&a<this.objList.length?this.objList[a]:null},delSelf:function(){this.parent instanceof b.BaseContainer&&this.parent.delLayer(this.name)},setActivate:function(a){this.active=a},logic:function(a){if(this.active)for(var b=0;b<this.objList.length;b++)this.objList[b].logic(a)},
draw:function(a){this.configCtx(a);for(var b=0;b<this.objList.length;b++)this.objList[b].draw(a)}});b.Text=function(a,f,g,d){b.UIObject.call(this,a,f);this.text=g;this.styled=d?!0:!1;this.linkInit=!1;this.zid=12;this.currentEffect=null;this.firstShow=!1;this.addLink=function(a){switch(a.type){case "audio":this.evtDeleg.addListener("firstShow",new b.Callback(a.link.play,a.link));this.getContainer().evtDeleg.addListener("click",new b.Callback(a.link.play,a.link),!0,this);break;case "wiki":this.getContainer().evtDeleg.addListener("click",
new b.Callback(a.link.init,a.link,this.getContainer()),!0,this);break;case "fb":this.getContainer().evtDeleg.addListener("click",new b.Callback(h.open,h,a.link,"_newtab"),!0,this)}a.offset=this.text.indexOf(a.src);a.owner=this;this.link=a};this.startEffect=function(a){this.styled=!0;b.initTextEffect&&(this.currentEffect=b.initTextEffect(a,this))};this.endEffect=function(){this.currentEffect=null};this.inObj=function(a,b){return this.link?a>=this.getCanvasX()+this.linkOffs&&a<=this.getCanvasX()+this.endOffs+
20&&b>=this.getCanvasY()&&b<=this.getCanvasY()+20?!0:!1:this.constructor.prototype.inObj.call(this,a,b)};this.logic=function(a){null!=this.currentEffect&&this.currentEffect.logic(a)};this.draw=function(a,b,f){this.firstShow||(this.firstShow=!0,this.evtDeleg.eventNotif("firstShow"));null!=b&&null!=f&&this.setPos(b,f);b=[this.getX(),this.getY()];this.styled&&(a.save(),this.configCtxFlex(a));null!=this.currentEffect?this.currentEffect.draw(a):this.link&&0<=this.link.offset?(this.linkInit||(this.begin=
this.text.substring(0,this.link.offset),this.linkOffs=a.measureText(this.begin).width,this.endOffs=this.linkOffs+a.measureText(this.link.src).width,this.end=this.text.substr(this.link.offset+this.link.src.length),"audio"==this.link.type&&this.evtDeleg.removeListener("show",this.link.link.play),this.linkInit=!0),a.fillText(this.begin,b[0],b[1]),a.save(),a.fillStyle=j[this.link.type],a.fillText(this.link.src,b[0]+this.linkOffs,b[1]),a.restore(),a.fillText(this.end,b[0]+this.endOffs,b[1])):a.fillText(this.text,
b[0],b[1]);this.styled&&a.restore()}};extend(b.Text,b.UIObject);b.Text.prototype.toString=function(){return"[object mse.Text]"};b.ArticleLayer=function(a,f,g,e){b.Layer.call(this,a,f,g);this.setDefile=function(a){this.currIndex=this.currTime=0;this.interval=a;this.complete=!1;this.endId=0;this.setSlider();this.ctrUI=new b.UIObject(null,{pos:[this.getX()+50,b.root.height-45],size:[this.width-100,50]});this.ctrUI.accelere=new b.Image(null,{size:[30,30]},"accelerBn");this.ctrUI.ralenti=new b.Image(null,
{size:[30,30]},"ralentiBn");this.ctrUI.up=new b.Image(null,{size:[30,30]},"upBn");this.ctrUI.down=new b.Image(null,{size:[30,30]},"downBn");this.ctrUI.play=new b.Image(null,{size:[30,30]},"playBn");this.ctrUI.pause=new b.Image(null,{size:[30,30]},"pauseBn");this.ctrUI.tip=new b.Text(null,{textBaseline:"middle",textAlign:"center",font:"italic 20px "+d.font,fillStyle:"#FFF"},"",!0);this.ctrUI.layer=this;this.ctrUI.draw=function(a){a.save();a.translate(this.offx,this.offy);this.accelere.draw(a,this.width-
30,0);this.up.draw(a,this.width-70,0);this.layer.pause?this.play.draw(a,this.width/2-15,0):this.pause.draw(a,this.width/2-15,0);this.ralenti.draw(a,0,0);this.down.draw(a,40,0);a.restore();this.tip.draw(a)};this.ctrEffect=function(a){var f=0,g=0;b.root.viewport&&(f=b.root.viewport.x,g=b.root.viewport.y);var e=f+a.offsetX-this.ctrUI.offx,d=g+a.offsetY-this.ctrUI.offy;if(!(0>d||50<d)){if(0<=e&&30>=e)this.interval+=200,this.interval=2E3<this.interval?2E3:this.interval,this.ctrUI.tip.text="moins rapide";
else if(e>=this.width-130&&e<=this.width-100)this.interval-=200,this.interval=300>this.interval?300:this.interval,this.ctrUI.tip.text="plus rapide";else if(e>=this.ctrUI.width/2-15&&e<=this.ctrUI.width/2+15)this.pause=!this.pause,this.ctrUI.tip.text=this.pause?"pause":"reprendre";else return;this.ctrUI.tip.globalAlpha=1;b.slideout(this.ctrUI.tip,10,[[a.offsetX+f,a.offsetY+g],[a.offsetX+f,a.offsetY+g-50]])}};this.upDownStart=function(a){var f=0;b.root.viewport&&(f=b.root.viewport.x);a=f+a.offsetX-
this.ctrUI.offx;40<=a&&70>=a?this.scrollEvt.rolled=-10:a>=this.width-170&&a<=this.width-140&&(this.scrollEvt.rolled=10)};this.upDownEnd=function(){this.scrollEvt.rolled=0};a=new b.Callback(this.ctrEffect,this);this.getContainer().evtDeleg.addListener("click",a,!0,this.ctrUI);this.getContainer().evtDeleg.addListener("gestureStart",new b.Callback(this.upDownStart,this),!0,this.ctrUI);this.getContainer().evtDeleg.addListener("gestureEnd",new b.Callback(this.upDownEnd,this));this.speedCtr=function(a){switch(a.keyCode){case __KEY_LEFT:this.interval+=
100;this.interval=2E3<this.interval?2E3:this.interval;break;case __KEY_RIGHT:this.interval-=100,this.interval=300>this.interval?300:this.interval}};a=new b.Callback(this.speedCtr,this);this.getContainer().evtDeleg.addListener("keydown",a)};this.setSlider=function(){this.slider=new b.Slider(this,{},"vertical");this.updateListScreen();this.slider.evtDeleg.addListener("rolling",new b.Callback(function(){this.pause=!0},this));this.slider.evtDeleg.addListener("hide",new b.Callback(function(){var a=this.complete?
this.objList.length:this.currIndex;if(0==a||this.objList[a-1].getY()<0.55*b.root.height)this.pause=!1},this))};this.updateIndexs=function(a,b){for(var f in this.phraseIndexs)this.phraseIndexs[f]>=a&&(this.phraseIndexs[f]+=b)};this.setLinklist=function(a){for(var b in a)for(var f=a[b].index,g=this.phraseIndexs[f];g<this.phraseIndexs[f+1];g++)if(this.objList[g].text&&0<=this.objList[g].text.indexOf(a[b].src)){a[b].index=g;this.objList[g].addLink(a[b]);break}this.links=a};this.setLinkDelegate=function(a,
f){if(this.links)for(var g in this.links)this.links[g].type==f&&(this.objList[this.links[g].index].evtDeleg.addListener("show",new b.Callback(a.linkShowHandler,a,this.links[g])),this.objList[this.links[g].index].evtDeleg.addListener("disapear",new b.Callback(a.linkDisapearHandler,a,this.links[g])))};this.addObject=function(a){var b=this.objList.length-1;0<=b?a.setY(this.objList[b].height,this.objList[b]):a.setY(0);this.length+=a.height;this.endId=this.objList.length-1;return this.constructor.prototype.addObject.call(this,
a)};this.addGame=function(a){a=new b.GameExpose(this,{size:[0.8*this.width,0.65*this.width]},a);a.setX(0.1*this.width);this.addObject(a)};this.insertObject=function(a,b){var f=this.constructor.prototype.insertObject.call(this,a,b);if(!f)return f;this.updateIndexs(b,1);0==b&&(a.setY(0),b=1);for(var g=b;g<this.objList.length;g++)this.objList[g].setY(this.objList[g-1].height,this.objList[g-1]);this.length+=a.height;return f};this.insertGame=function(a,f){var g=new b.GameExpose(this,{size:[0.8*this.width,
0.65*this.width]},a);g.setX(0.1*this.width);this.insertObject(g,f)};this.delObject=function(a){var b=this.constructor.prototype.delObject.call(this,a);isNaN(b)||(this.length-=a.height,this.updateIndexs(b,-1),this.endId=this.objList.length-1);return b};this.getHeight=function(){var a=this.complete?this.objList.length:this.currIndex;return 0==a?0:this.objList[a-1].offy+this.objList[a-1].height};this.updateListScreen=function(){var a=this.oy-this.offy,a=0>a?0:a,b=a+0.8*this.height,f=this.complete?this.objList.length-
1:this.currIndex-1,f=0>f?0:f,g=-1,e=-1;if(this.prevOffy<=a){for(var d=this.startId;d<=f;d++)if(-1==g&&this.objList[d].offy+this.objList[d].height>a&&(g=d),-1==e&&this.objList[d].offy>b){e=d;break}g=-1==g?f:g;e=-1==e?f:e}else{for(d=this.endId;0<=d;d--)if(-1==e&&this.objList[d].offy<=b&&(e=d),-1==g&&this.objList[d].offy+this.objList[d].height<=a){g=d;break}g=-1==g?0:g;e=-1==e?0:e}if(g>this.startId)for(d=this.startId;d<g;d++)this.objList[d].evtDeleg.eventNotif("disapear");else if(g<this.startId)for(d=
g;d<this.startId;d++)this.objList[d].evtDeleg.eventNotif("show");if(e>this.endId)for(d=this.endId+1;d<=e;d++)this.objList[d].evtDeleg.eventNotif("show");else if(e<this.endId)for(d=e+1;d<=this.endId;d++)this.objList[d].evtDeleg.eventNotif("disapear");this.startId=g;this.endId=e};this.logic=function(a){if(this.active&&this.dominate instanceof b.UIObject)this.dominate.logic(a);else{this.scrollEvt.rolled&&this.slider.scroll(this.scrollEvt);this.slider&&this.updateListScreen();for(var f=this.startId;f<=
this.endId;f++)this.objList[f].logic(a);if(!this.complete&&this.active&&!this.pause&&(this.currTime+=a,this.currTime>=(0!=this.currIndex&&this.objList[this.currIndex-1]instanceof b.Image?3E3:this.interval)))this.currTime=0,this.currIndex<this.objList.length?(a=this.objList[this.currIndex].offy+this.objList[this.currIndex].height/2,a>b.root.height/2&&(new b.KeyFrameAnimation(this,{frame:[0,15],pos:[[this.offx,this.offy],[this.offx,this.height/2-a]]},1)).start(),this.currIndex++):this.complete=!0;this.prevOffy=
0>this.oy-this.offy?0:this.oy-this.offy}};this.draw=function(a){this.configCtx(a);for(var b=this.startId;b<=this.endId;b++)this.objList[b].draw(a);this.ctrUI&&this.ctrUI.draw(a)};this.inObj=function(a,b){return this.parent.inObj(a,b)};this.interrupt=function(){this.dominate=this.vide};this.play=function(){this.dominate=null};this.length=0;this.prevOffy=this.oy=this.offy;this.lineHeight=g.lineHeight?g.lineHeight:Math.round(1.4*(this.font?checkFontSize(this.font):16));this.phraseIndexs=[];if(e){a=b.root.ctx;
this.configCtx(a);for(var f=Math.floor(this.width/a.measureText("A").width),e=e.split("\n"),h=g=0;h<e.length;h++)if(0==e[h].length)this.addObject(new b.UIObject(this,{size:[this.width,15]})),g++;else{this.phraseIndexs[h-g]=this.objList.length;for(var j=0;j<e[h].length;){var i=checkNextLine(a,e[h].substr(j),f,this.width);this.addObject(new b.Text(this,{size:[this.width,this.lineHeight]},e[h].substr(j,i)));j+=i}}}this.startId=0;this.endId=this.objList.length-1;this.complete=!0;this.pause=!1;this.scrollEvt=
{};this.scrollEvt.rolled=0;this.vide=new b.UIObject;this.dominate=null};extend(b.ArticleLayer,b.Layer);b.Image=function(a,f,g){b.UIObject.call(this,a,f);this.img=g;this.currentEffect=null;this.firstShow=!1;b.src.waitSrc(this.img,new b.Callback(this.init,this))};extend(b.Image,b.UIObject);e.extend(b.Image.prototype,{init:function(){if(!this.width){var a=b.src.getSrc(this.img);this.width=a.width;this.height=a.height}},startEffect:function(a){b.initImageEffect&&(this.currentEffect=b.initImageEffect(a,
this))},endEffect:function(){this.currentEffect=null},logic:function(a){this.firstShow||(this.firstShow=!0,this.evtDeleg.eventNotif("firstShow"));null!=this.currentEffect&&this.currentEffect.logic(a)},draw:function(a,f,g){var d=b.src.getSrc(this.img);this.configCtxFlex(a);if(isNaN(f)||isNaN(g))f=this.getX(),g=this.getY();null!=this.currentEffect?this.currentEffect.draw(a,f,g):a.drawImage(d,f,g,this.width,this.height)},toString:function(){return"[object mse.Image]"}});b.Mask=function(a,f,g){b.UIObject.call(this,
a,f);null!=g&&(this.zid=g);f.cornerRatio&&(this.cr=f.cornerRatio);this.draw=function(a){this.configCtxFlex(a);this.cr?a.fillRoundRect(this.getX(),this.getY(),this.width,this.height,this.cr):a.fillRect(this.getX(),this.getY(),this.width,this.height)}};b.Mask.prototype=new b.UIObject;b.Mask.prototype.constructor=b.Mask;b.Sprite=function(a,f,g,d,e,h,j,i,n){b.Image.call(this,a,f,g);if(4==arguments.length)this.frames=d;else if(this.fw=d,this.fh=e,9==arguments.length?(this.sx=h,this.sy=j,this.sw=i,this.sh=
n):(this.sy=this.sx=0,this.sw=this.img.width,this.sh=this.img.height),d<this.sw?this.col=Math.floor(this.sw/d):(this.fw=this.sw,this.col=1),e<this.sh?this.row=Math.floor(this.sh/e):(this.fh=this.sh,this.row=1),this.nb=this.col*this.row,0==this.width&&(this.width=this.fw),0==this.height)this.height=this.fh;this.curr=0};extend(b.Sprite,b.Image);e.extend(b.Sprite.prototype,{init:function(){},appendFrames:function(a){this.frames&&(this.frames=this.frames.concat(a))},appendFrame:function(a){this.frames&&
this.frames.push(a)},draw:function(a,f,g){this.configCtxFlex(a);isNaN(f)&&(f=this.getX());isNaN(g)&&(g=this.getY());var d=b.src.getSrc(this.img);if(this.frames)e=this.frames[this.curr][0],h=this.frames[this.curr][1],a.drawImage(d,e,h,this.frames[this.curr][2],this.frames[this.curr][3],f,g,this.getWidth(),this.getHeight());else{var e=this.sx+this.curr%this.col*this.fw,h=this.sy+Math.floor(this.curr/this.col)*this.fh;a.drawImage(d,e,h,this.fw,this.fh,f,g,this.getWidth(),this.getHeight())}}});b.Game=
function(){b.UIObject.call(this,null,{});this.offx=0.2*b.root.width;this.offy=0.2*b.root.height;this.width=0.6*b.root.width;this.height=0.6*b.root.height;this.type="DEP"};extend(b.Game,b.UIObject);e.extend(b.Game.prototype,{state:"DEFAULT",msg:{DEFAULT:"C'est un jeu, sans message......"},getMsg:function(){return this.msg[this.state]},setExpose:function(a){this.expo=a;this.type="INDEP"},addTo:function(a){this.parent=a;this.setPos(0,0);this.setSize(a.getWidth(),a.getHeight());a.addObject(this)},start:function(){b.root.container.evtDeleg.setDominate(this);
b.root.gamewindow.loadandstart(this)},draw:function(){},end:function(){b.root.gamewindow.end();this.expo&&this.expo.endGame()},lose:function(){b.root.gamewindow.lose()}});b.GameShower=function(){b.UIObject.call(this,null,{});this.currGame=null;this.globalAlpha=0;this.state="DESACTIVE";b.src.addSource("gameover","../images/gameover.jpg","img",!0);this.loseimg=new b.Image(this,{pos:[0,0]},"gameover");this.losetext=new b.Text(this,{font:"Bold 36px "+b.configs.font,fillStyle:"#FFF",textBaseline:"middle",
textAlign:"center"},"GAME OVER...",!0);this.losetext.evtDeleg.addListener("show",new b.Callback(this.losetext.startEffect,this.losetext,{typewriter:{speed:2}}));this.passBn=new b.Button(this,{size:[105,35],font:"12px "+d.font,fillStyle:"#FFF"},"Je ne joue plus","aideBar");this.firstShow=!1;this.load=function(a){a&&a instanceof b.Game&&(this.currGame=a,this.firstShow=!1,this.state="LOAD",b.fadein(this,15),b.fadein(this.currGame,15))};this.start=function(){this.currGame&&(this.setPos(this.currGame.offx,
this.currGame.offy),this.setSize(this.currGame.width,this.currGame.height),this.loseimg.setSize(this.width-5,this.height-5),this.losetext.setPos(this.width/2,this.height/2),this.passBn.setPos(this.currGame.width-115,this.currGame.height-50),this.currGame.init&&this.currGame.init(),this.state="START")};this.loadandstart=function(a){this.load(a);this.start()};this.restart=function(f){b.root.evtDistributor.removeListener("click",a);this.passBn.inObj(f.offsetX,f.offsetY)?this.currGame.end():(this.state=
"START",this.currGame.init())};var a=new b.Callback(this.restart,this);this.lose=function(){this.state="LOSE";this.losetext.evtDeleg.eventNotif("show");b.root.evtDistributor.addListener("click",a,!0,this.currGame)};this.end=function(){b.fadeout(this.currGame,25);b.fadeout(this,25,this.cbdesact)};this.desactive=function(){this.state="DESACTIVE";b.root.evtDistributor.setDominate(null)};this.cbdesact=new b.Callback(this.desactive,this);this.logic=function(a){"LOSE"==this.state&&this.losetext.logic();
if("START"!=this.state&&"LOAD"!=this.state)return!1;MseConfig.mobile&&"landscape"!=MseConfig.orientation||this.currGame.logic(a);return!0};this.draw=function(a){0!=this.globalAlpha&&((this.configCtx(a),MseConfig.mobile||(a.strokeStyle="rgb(188,188,188)",a.lineWidth=5,a.strokeRect(this.offx-2.5,this.offy-2.5,this.width,this.height),a.lineWidth=1),"INDEP"==this.currGame.type&&MseConfig.mobile&&"landscape"!=MseConfig.orientation)?a.drawImage(b.src.getSrc("imgNotif"),(a.canvas.width-50)/2,(a.canvas.height-
80)/2,50,80):"START"==this.state?(this.firstShow||(this.firstShow=!0,"INDEP"==this.currGame.type&&this.evtDeleg.eventNotif("firstShow"),MseConfig.mobile&&(this.currGame.setPos(0,0),this.currGame.setSize(MseConfig.pageWidth,MseConfig.pageHeight))),this.currGame.draw(a)):"LOSE"==this.state&&(a.fillStyle="#000",a.fillRect(this.getX(),this.getY(),this.width-5,this.height-5),this.losetext.draw(a),this.passBn.draw(a)))}};b.GameShower.prototype=new b.UIObject;b.GameShower.prototype.constructor=b.GameShower;
b.GameExpose=function(a,f,g){b.UIObject.call(this,a,f);this.firstShow=!1;this.game=g;this.game.setExpose(this);this.msg="";this.msginlines=[];this.font||(this.font="12px Verdana");this.lineHeight=Math.round(1.2*checkFontSize(this.font));this.evtDeleg.addListener("firstShow",new b.Callback(a.interrupt,a));this.passBn=new b.Button(this,{pos:[this.width-115,this.height-60],size:[105,35],font:"12px "+d.font,fillStyle:"#FFF"},"Je ne joue pas","aideBar");this.launchGame=function(a){this.getContainer().evtDeleg.removeListener("click",
this.launchcb);this.passBn.inObj(a.offsetX,a.offsetY)?this.endGame():this.game.start()};this.launchcb=new b.Callback(this.launchGame,this);this.endGame=function(){a.play&&a.play()};this.logic=function(){if(!this.firstShow){this.firstShow=true;this.evtDeleg.eventNotif("firstShow");this.getContainer().evtDeleg.addListener("click",this.launchcb,true)}if(this.msg!=this.game.getMsg()){this.msg=this.game.getMsg();this.msginlines.splice(0,this.msginlines.length);this.bullWidth=this.width;this.bullHeight=
0;if(!this.msg||this.msg=="")this.bullHeight=0;else{var a=b.root.ctx;a.save();a.font=this.font;for(var f=Math.floor((this.bullWidth-20)/a.measureText("A").width),g=0;g<this.msg.length;){var d=checkNextLine(a,this.msg.substr(g),f,this.bullWidth-20);this.msginlines.push(this.msg.substr(g,d));g=g+d}a.restore()}}};this.draw=function(a){a.save();a.translate(this.getX(),this.getY()+15);a.fillStyle="#000";a.fillRect(0,0,this.width,this.height-30);a.strokeStyle="rgb(188,188,188)";a.lineWidth=5;a.strokeRect(0,
-2.5,this.width,this.height-30);a.lineWidth=1;a.font=this.font;a.textBaseline="top";a.fillStyle="#FFF";for(var b=(this.height-30-this.msginlines.length*this.lineHeight)/2,f=0;f<this.msginlines.length;f++)a.fillText(this.msginlines[f],10,b+f*this.lineHeight);a.restore();a.save();this.passBn.draw(a);a.restore()}};b.GameExpose.prototype=new b.UIObject;b.GameExpose.prototype.constructor=b.GameExpose;b.Slider=function(a,f,g,d,e){e||(e=a.parent?a.parent:b.root.container);b.UIObject.call(this,e,f);e.addLayer?
e.addLayer("slider",this):e.addObject&&e.addObject(this);this.fillStyle="rgba(145,152,159, 0.7)";this.tar=a;d||(d=0);this.enScroll=!1;this.globalAlpha=this.scrollT=0;"horizontal"==g?(this.orientation="horizontal",this.setPos(this.tar.getX(),this.tar.getY()+this.tar.getHeight()+d),this.setSize(this.tar.getWidth(),10),this.loc=0,this.length=this.width):(this.orientation="vertical",this.setPos(this.tar.getX()+this.tar.getWidth()+d,this.tar.getY()),this.setSize(10,this.tar.getHeight()),this.loc=0,this.length=
this.height);this.cbScroll=new b.Callback(this.scroll,this);this.cbGest=new b.Callback(this.gestUpdate,this);this.getContainer().evtDeleg.addListener("gestureUpdate",this.cbGest,!1,this.tar);MseConfig.mobile||this.getContainer().evtDeleg.addListener("mousewheel",this.cbScroll,!1,this.tar)};extend(b.Slider,b.UIObject);e.extend(b.Slider.prototype,{show:function(){b.fadein(this,4);this.enScroll=!0;this.evtDeleg.eventNotif("show")},hide:function(){1==this.globalAlpha&&b.fadeout(this,4);this.enScroll=
!1;this.evtDeleg.eventNotif("hide")},scroll:function(a){0==this.globalAlpha&&this.show();this.scrollT=0;if("vertical"==this.orientation){if(this.tar.offy+=a.rolled,100<this.tar.offy||this.tar.offy+this.tar.getHeight()<this.tar.parent.getHeight()/2)this.tar.offy-=a.rolled}else if(this.tar.offx+=a.rolled,100<this.tar.offx||this.tar.offx+this.tar.getWidth()<this.tar.parent.getWidth()/2)this.tar.offx-=a.rolled;this.evtDeleg.eventNotif("rolling",a.rolled)},gestUpdate:function(a){4<a.listX.length&&(a.rolled=
a.listY[a.listY.length-1]-a.listY[a.listY.length-2],this.scroll(a))},logic:function(a){if(this.enScroll)if(this.scrollT+=a,600<this.scrollT)this.hide();else{if("vertical"==this.orientation)var a=this.tar.parent.getHeight(),b=this.tar.getHeight(),g=-this.tar.offy;else a=this.tar.parent.getWidth(),b=this.tar.getWidth(),g=-this.tar.offx;this.length=a*a/b;this.loc=a*g/b;this.loc+this.length>a-30?this.length=a-this.loc-30:0>this.loc&&(this.length+=this.loc,this.loc=0)}},draw:function(a){if(0!=this.globalAlpha){a.save();
this.configCtxFlex(a);a.translate(this.getX(),this.getY());a.beginPath();if("vertical"==this.orientation){var b=this.width/2;a.arc(b,this.loc+b,b,0,Math.PI,!0);a.lineTo(0,this.loc+this.length-b);a.arc(b,this.loc+this.length-b,b,Math.PI,2*Math.PI,!0);a.lineTo(this.width,this.loc+b)}else b=this.height/2,a.arc(this.loc+b,b,b,1.5*Math.PI,0.5*Math.PI,!1),a.lineTo(this.loc+l-b,0),a.arc(this.loc+l-b,b,b,0.5*Math.PI,1.5*Math.PI,!1),a.lineTo(this.loc+b,this.height);a.fill();a.restore()}}});b.Button=function(a,
f,g,d,e,h){b.UIObject.call(this,a,f);this.txt=g;this.img=d;this.setLink(e,h)};extend(b.Button,b.UIObject);e.extend(b.Button.prototype,{urlClicked:function(){h.open(this.link,"_newtab")},setLink:function(a,f){a&&(this.link=a);"url"==f&&this.getContainer().evtDeleg.addListener("click",new b.Callback(this.urlClicked,this),!0,this)},draw:function(a,f,g){this.configCtxFlex(a);a.fillStyle="rgb(255,255,255)";a.textAlign="center";a.textBaseline="middle";null==f&&(f=this.getX(),g=this.getY());var d=b.src.getSrc(this.img);
d&&a.drawImage(d,f,g,this.width,this.height);this.txt&&a.fillText(this.txt,f+this.width/2,g+this.height/2)}});b.MenuItem=function(a,f,g,d,e,h){b.UIObject.call(this,a,f);this.txt=g;this.img=d;this.zid=11;this.linkType=null!=e&&null!=h?e:"None";this.link=h;this.linkClicked=function(){switch(this.linkType){case "None":break;case "SubMenu":this.parent.subShow=this.link;var a=this.parent.subMenu[this.link],f;for(f in a)b.fadein(a[f],8);break;case "Card":this.link.evtDeleg.addListener("click",new b.Callback(b.root.revealCard,
b.root,b.root.container),!0);b.root.poseCard(this.link);break;default:b.changePage(this.link)}};a=new b.Callback(this.linkClicked,this);switch(this.linkType){case "None":break;case "SubMenu":MseConfig.mobile?b.root.evtDistributor.addListener("click",a,!0):b.root.evtDistributor.addListener("enter",a,!0);break;default:b.root.evtDistributor.addListener("click",a,!0)}this.draw=function(a){this.configCtxFlex(a);if(this.img){var f=b.src.getSrc(this.img);a.drawImage(f,this.getX(),this.getY(),this.width,
this.height)}else a.fillRect(this.getX(),this.getY(),this.width,this.height);this.txt&&a.fillText(this.txt,this.getX()+this.width/2,this.getY()+this.height/2)}};b.MenuItem.prototype=new b.UIObject;b.MenuItem.prototype.constructor=b.MenuItem;b.Menu=function(a,f,g,e){b.Layer.call(this,a,10,f);this.iwidth=g;this.iheight=e;this.ioffx=(this.width-g)/2;this.espace=20<e/2?e/2:20;this.fillStyle="rgb(145,152,159)";this.maskAlpha=0.45;this.shadow={shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,shadowColor:"rgb(67, 67, 67)"};
this.subMenu=[];this.subShow=-1;this.offx-=this.width;this.state="PRESENT";this.zonex=this.width;this.inObj=function(a,b){if(this.insideRec)var f=this.getCanvasX()-this.zonex+this.insideRec[0],g=this.getCanvasY()+this.insideRec[1],d=this.insideRec[2],e=this.insideRec[3];else f=this.getCanvasX()-this.zonex,g=this.getCanvasY(),d=2*this.getWidth(),e=2*this.getHeight();return a>f&&a<f+d&&b>g&&b<g+e?!0:!1};this.getX=function(){return(this.parent?this.parent.getX():0)+this.offx+this.zonex};this.slideInOut=
function(){switch(this.state){case "HIDE":this.name&&b.root.container.desactiveOthers(this.name);this.state="IN";break;case "PRESENT":this.name&&b.root.container.reactiveOthers(),this.state="OUT"}};this.hide=function(){this.state="HIDE";this.globalAlpha=this.zonex=0};this.addItem=function(a,f,g,d){var e=this.objList.length;"SubMenu"==g&&(d=e);a=new b.MenuItem(this,{pos:[this.ioffx,0==e?this.espace:this.objList[e-1].offy+this.iheight+this.espace],size:[this.iwidth,this.iheight]},a,f,g,d);this.addObject(a);
return a};this.addSubItem=function(a,f,g,e,h){if(this.objList[a])return f=new b.MenuItem(this,{pos:[this.width+6,this.objList[a].offy],size:[180,this.iheight],globalAlpha:0,font:"Bold 16px "+d.font,textAlign:"center",fillStyle:"#FFF",textBaseline:"middle"},f,g,e,h),this.subMenu[a]||(this.subMenu[a]=[]),this.subMenu[a].push(f),f};this.delItem=function(a){this.objList.splice(a,1)};this.delSubItem=function(a,b){this.subMenu[b]&&this.subMenu[b].splice(a,1)};this.logic=function(a){switch(this.state){case "OUT":0<
this.zonex?(this.globalAlpha-=a/500,0>this.globalAlpha&&(this.globalAlpha=0),this.zonex-=a/500*this.width):(this.state="HIDE",this.globalAlpha=0);break;case "IN":this.zonex<this.width?(this.globalAlpha+=a/500,1<this.globalAlpha&&(this.globalAlpha=1),this.zonex+=a/500*this.width):(this.state="PRESENT",this.globalAlpha=1)}};this.draw=function(a){if("HIDE"!=this.state){var b=this.maskAlpha*this.getAlpha();a.fillStyle="rgba(0,0,0,"+b+")";a.fillRect(this.getX(),this.getY(),256,this.height);this.configCtxFlex(a);
a.fillRect(this.getX(),this.getY(),this.width,this.height);for(var f in this.objList)this.objList[f].draw(a);if(0<=this.subShow)for(f in this.subMenu[this.subShow])this.subMenu[this.subShow][f].draw(a)}};this.getContainer().evtDeleg.addListener("click",new b.Callback(this.slideInOut,this),!0)};b.Menu.prototype=new b.Layer;b.Menu.prototype.constructor=b.Menu;b.Card=function(a,f,g){b.UIObject.call(this,a,f);this._layers=[];(this.ui=g)&&this.addLayer("ui",g);this.margin=[15,15,15,15];this.angle=randomInt(40)-
20;this.lw=this.width-this.margin[1]-this.margin[3];this.lh=this.height-this.margin[0]-this.margin[2]};extend(b.Card,b.UIObject);e.extend(b.Card.prototype,{addLayer:b.BaseContainer.prototype.addLayer,delLayer:b.BaseContainer.prototype.delLayer,getLayer:b.BaseContainer.prototype.getLayer,sortLayer:b.BaseContainer.prototype.sortLayer,draw:function(a){this.ui||(a.fillStyle="rgb(252,250,242)",a.fillRoundRect(this.getX(),this.getY(),this.width,this.height,20))},ptRotate:function(a,b){var g=this.getX()+
this.width/2,d=this.getY()+this.height/2,e=a-g,h=b-d,j=this.angle*Math.PI/180,i=Math.sin(j),j=Math.cos(j);return[g+(e*j+h*i),d+(-e*i+h*j)]},inObj:function(a,f){var g=this.ptRotate(a,f);return b.UIObject.prototype.inObj.call(this,g[0],g[1])?!0:!1}});b.ImageCard=function(a,f,g,d,e){b.Card.call(this,a,f,g);d&&b.src.getSrc(d)&&(this.img=d,this.legend=e);b.src.waitSrc(this.img,new b.Callback(this.init,this))};extend(b.ImageCard,b.Card);e.extend(b.ImageCard.prototype,{legendheight:35,setImage:function(a,
f){a&&b.src.getSrc(a)&&(this.img=a,this.legend=f)},init:function(){var a=this.lw,f=this.height-this.margin[0]-this.margin[2]-this.legendheight,g=b.src.getSrc(this.img),d=a/g.width,e=f/g.height,d=d<e?d:e;this.iw=g.width*d;this.ih=g.height*d;this.ix=this.margin[3]+(a-this.iw)/2;this.iy=this.margin[0]+(f-this.ih)/2},draw:function(a){a.save();a.translate(this.getX()+this.width/2,this.getY()+this.height/2);a.rotate(this.angle*Math.PI/180);a.translate(-this.width/2,-this.height/2);for(var f in this._layers)this._layers[f].draw(a);
this.ui||(a.fillStyle="rgb(252,250,242)",a.fillRoundRect(0,0,this.width,this.height,20));this.img&&(a.drawImage(b.src.getSrc(this.img),this.ix,this.iy,this.iw,this.ih),a.font="italic 12px Verdana",a.textBaseline="top",a.textAlign="center",a.fillStyle="#000",a.fillTextWrapped(this.legend,this.ix+this.iw/2,this.iy+this.ih+5,this.lw,15),a.restore())}});b.TextContent=function(a,f){b.UIObject.call(this,a,f);this.font||(this.font="14px Verdana");this.textAlign||(this.textAlign="left");this.fillStyle||(this.fillStyle=
"#000");this.textBaseline="top";this.sections=[];this.length=0};extend(b.TextContent,b.UIObject);e.extend(b.TextContent.prototype,{seplineoff:-3.5,titletextoff:5,sectionsep:12,lineHeight:18,addSection:function(a,f,g){if(!("string"!=typeof f||"string"!=typeof g)){switch(a){case "text":var d=g;break;case "link":d=new b.Button(this,{pos:[15,this.length+this.titletextoff+this.lineHeight],size:[80,this.lineHeight],font:this.font,fillStyle:"#FFF"},"Lien","wikiBar",g,"url")}this.sections.push([a,f,d]);this.configCtx(b.root.ctx);
a=wrapText(f,b.root.ctx,this.width).length;a+=wrapText(g,b.root.ctx,this.width-15).length;a=a*this.lineHeight+this.titletextoff+this.sectionsep;this.length+=a}},getHeight:function(){return this.length},draw:function(a){a.save();a.translate(this.offx,this.offy);this.configCtxFlex(a);a.lineCap="round";for(var b=0,d=0;d<this.sections.length;d++)switch(a.font="bold "+this.font,b+=a.fillTextWrapped(this.sections[d][1],0,b,this.width,this.lineHeight)+this.titletextoff,a.beginPath(),a.moveTo(0,b+this.seplineoff),
a.lineTo(this.width,b+this.seplineoff),a.stroke(),a.font=this.font,this.sections[d][0]){case "text":b+=a.fillTextWrapped(this.sections[d][2],15,b,this.width-15,this.lineHeight)+this.sectionsep;break;case "link":this.sections[d][2].draw(a,15,b),b+=this.lineHeight+this.sectionsep}a.restore()}});b.TextCard=function(a,f,d){b.Card.call(this,a,f,d);this.content=new b.TextContent(this,{pos:[this.margin[3],this.margin[0]],size:[this.lw,this.lh]});this.addLayer("content",this.content);this.slider=new b.Slider(this.content,
{},"vertical");this.slider.setPos(this.width-this.margin[1],0)};extend(b.TextCard,b.Card);e.extend(b.TextCard.prototype,{getContainer:function(){return this},addSection:function(a,b){this.content.addSection("text",a,b)},addLink:function(a,b){this.content.addSection("link",a,b)},draw:function(a){a.save();a.translate(this.getX()+this.width/2,this.getY()+this.height/2);a.rotate(this.angle*Math.PI/180);a.translate(-this.width/2,-this.height/2);this.ui||(a.fillStyle="rgb(252,250,242)",a.fillRoundRect(0,
0,this.width,this.height,20));for(var b in this._layers)this._layers[b].draw(a);a.restore()}});b.WikiLayer=function(){b.Layer.call(this,null,11,{});this.currCard=null;this.cbDragStart=new b.Callback(this.dragStart,this);this.cbDragMove=new b.Callback(this.dragMove,this);this.cbDragEnd=new b.Callback(this.dragEnd,this)};extend(b.WikiLayer,b.Layer);e.extend(b.WikiLayer.prototype,{cardw:250,cardh:320,hide:function(){var a=this.getContainer();a&&(a.evtDeleg.removeListener("gestureStart",this.cbDragStart),
a.evtDeleg.removeListener("gestureUpdate",this.cbDragMove),a.evtDeleg.removeListener("gestureEnd",this.cbDragEnd));this.parent.reactiveOthers();this.globalAlpha=0;this.parent.delLayer("wiki")},init:function(a){if(!(!a instanceof b.UIObject)){this.parent=a;this.setSize(a.getWidth(),a.getHeight());this.setPos(0,0);this.cardx=(this.width-this.cardw)/2;this.cardy=(this.height-this.cardh)/2;for(var f in this.objList)this.objList[f].setPos(this.cardx,this.cardy);a.evtDeleg.addListener("gestureStart",this.cbDragStart,
!0,this);a.evtDeleg.addListener("gestureUpdate",this.cbDragMove,!0,this);a.evtDeleg.addListener("gestureEnd",this.cbDragEnd,!0,this);a.addLayer("wiki",this);this.globalAlpha=1;a.desactiveOthers("wiki")}},addImage:function(a,f){this.addObject(new b.ImageCard(this,{size:[this.cardw,this.cardh]},null,a,f))},addTextCard:function(){this.textCard=new b.TextCard(this,{size:[this.cardw,this.cardh]},null);this.addObject(this.textCard)},addExplication:function(a,b){this.addTextCard();this.textCard.addSection(a,
b)},addLink:function(a,b){this.textCard||this.addTextCard();this.textCard.addLink(a,b)},dragStart:function(a){for(var b=this.objList.length-1;0<=b;b--)if(this.objList[b].inObj(a.offsetX,a.offsetY)){this.objList[b].evtDeleg.eventNotif("click",a)||(this.currCard=this.objList[b]);return}this.hide()},dragMove:function(a){this.currCard&&this.currCard.move(a.listX[a.listX.length-1]-a.listX[a.listX.length-2],a.listY[a.listY.length-1]-a.listY[a.listY.length-2])},dragEnd:function(){this.currCard=null}});b.PageWiki=
function(a,f,g,e,h,j){b.Layer.call(this,a,f,g);a.addLayer("content",this);var i=b.root.ctx;i.font="22px "+d.font;var p=1.2*i.measureText(e).width;this.title=new b.Button(this,{pos:[(this.width-p)/2,15],size:[p,35],font:"22px "+d.font,fillStyle:"#FFF"},e,"wikiBar");i.font="bold 14px Arial Narrow";p=1.2*i.measureText("Revenir \u00e0 l'histoire").width;this.quit=new b.Button(this,{pos:[this.width-p-30,this.height-30],size:[p,25],font:"bold 14px Arial Narrow",fillStyle:"#FFF"},"Revenir \u00e0 l'histoire",
"wikiBar");this.photos=h;this.phOff=this.width/2;this.espace=this.width/10;this.mask=new b.Mask(this,{pos:[0,0],size:[this.width,185],fillStyle:"#434343"});g.pos=[this.offx+30,this.offy+210];g.size=[this.width-60,this.height-165];this.content=new b.ArticleLayer(a,f,g,j);this.content.setSlider();this.v=0;this.setQuitTarget=function(a){this.getContainer().evtDeleg.addListener("click",new b.Callback(b.root.transition,b.root,a),!0,this.quit)};this.addPhoto=function(a){this.photos.push(a)};this.logic=
function(a){if(0!=this.v&&null!=this.photos){this.phOff+=this.v;var f=3*-this.espace,d,g;for(g in this.photos)d=b.src.getSrc(this.photos[g]),f+=100*d.width/d.height+this.espace;this.phOff>this.width/2&&(this.phOff=this.width/2);this.phOff+f<this.width/2&&(this.phOff=this.width/2-f)}this.content.logic(a)};this.draw=function(a){this.content.draw(a);this.mask.draw(a);this.title.draw(a);this.quit.draw(a);a.save();a.globalAlpha=1;a.strokeStyle="#FFF";a.fillStyle="#727272";a.translate(this.getX(),this.getY()+
65);a.fillRect(0,1,this.width,118);a.beginPath();a.moveTo(0,0);a.lineTo(this.width,0);a.moveTo(0,120);a.lineTo(this.width,120);a.stroke();if(null!=this.photos){if(0<this.photos.length)var f=this.phOff-50;var d,g,e;for(e in this.photos){g=b.src.getSrc(this.photos[e]);d=100*g.width/g.height;if(0>f){if(0<f+d){var h=-f*g.width/d;a.drawImage(g,h,0,g.width-h,g.height,0,10,d+f,100)}}else f+d>this.width?f<this.width&&a.drawImage(g,0,0,(this.width-f)*g.width/d,g.height,f,10,this.width-f,100):a.drawImage(g,
f,10,d,100);f+=d+this.espace}}a.restore()};this.onMove=function(a){var b=a.offsetX-this.getX(),a=a.offsetY-this.getY();65>=a||185<=a?this.v=0:(b-=this.width/2,this.v=30<Math.abs(b)?b/20:0)};this.getContainer().evtDeleg.addListener("move",new b.Callback(this.onMove,this),!0)};b.PageWiki.prototype=new b.Layer;b.PageWiki.prototype.constructor=b.PageWiki;b.Video=function(a,f,d){b.UIObject.call(this,a,f);this.srcs=d;this.launch=function(){b.root.video.load(d);b.root.video.show()};this.draw=function(a){a.save();
a.fillStyle="#000";a.strokeStyle="#FFF";a.lineWidth=4;a.translate(this.getX(),this.getY());a.strokeRoundRect(0,0,this.width,this.height,5);a.fillRoundRect(0,0,this.width,this.height,5);a.beginPath();a.moveTo(this.width/2-25,this.height/2-20);a.lineTo(this.width/2+25,this.height/2);a.lineTo(this.width/2-25,this.height/2+20);a.lineTo(this.width/2-25,this.height/2-20);a.fillStyle="#FFF";a.fill();a.restore()};this.getContainer().evtDeleg.addListener("click",new b.Callback(this.launch,this),!0,this)};
b.Video.prototype=new b.UIObject;b.Video.prototype.constructor=b.Video;b.Timeline=function(a,f,d,e){if(!a.initTimeline||!a.runTimeline)return null;this.src=a;if(0<f)this.tsFixed=!0,this.interval=f,this.length=null!=e?e:0;else{if(!d instanceof Array)return null;this.tsFixed=!1;this.timeprog=d;this.length=d.length}this.src.initTimeline(this);this.start=function(){this.currIndex=this.currTimestamp=0;this.inPause=this.end=!1;this.src.runTimeline();b.currTimeline=this;this.timer=this.tsFixed?setInterval("mse.currTimeline.run()",
this.interval):setTimeout("mse.currTimeline.run()",this.timeprog[this.currIndex])};this.run=function(){this.end?this.tsFixed?clearInterval(this.timer):clearTimeout(this.timer):this.inPause||(this.currTimestamp+=this.tsFixed?this.interval:this.timeprog[this.currIndex],this.currIndex++,0==this.length||this.currIndex<e?this.tsFixed?this.src.runTimeline(this.interval):(this.timer=setTimeout("mse.currTimeline.run()",this.timeprog[this.currIndex]),this.src.runTimeline(this.timeprog[this.currIndex-1])):
this.end=!0)};this.playpause=function(){this.end||(this.inPause=!this.inPause,this.inPause||(b.currTimeline!=this&&(b.currTimeline=this),this.timer=setTimeout("mse.currTimeline.run()",1200)))};this.play=function(){this.end||(this.inPause=!1,b.currTimeline!=this&&(b.currTimeline=this),this.timer=setTimeout("mse.currTimeline.run()",1200))};this.pause=function(){this.end||(this.inPause=!0)}};b.FrameAnimation=function(a,f,d,e){if(!f instanceof Array||!a instanceof b.Sprite)return null;this.sprite=a;this.seq=
f;this.rep=isNaN(d)?1:d;this.delay=e?e:0;this.active=!1;this.evtDeleg=new b.EventDelegateSystem;b.root.animations.push(this);this.start=function(){this.currFr=0;this.currRep=1;this.delayCount=this.delay;this.active=!0;this.evtDeleg.eventNotif("start")};this.stop=function(){this.currRep=this.currFr=0;this.active=!1;this.evtDeleg.eventNotif("end")};this.logic=function(){if(!this.active)return!1;if(this.currFr<this.seq.length-1)0!=this.delay?(0==this.delayCount&&(this.currFr++,this.delayCount=this.delay),
this.delayCount--):this.currFr++;else if(this.currRep<this.rep||0==this.rep)this.currRep++,this.currFr=0;else return this.active=!1,this.evtDeleg.eventNotif("end"),!0;this.sprite.curr=this.seq[this.currFr];return!1}};b.KeyFrameAnimation=function(a,f,d){if(!a instanceof b.UIObject)return mseLog("Type Error","Element isn't a Mse UI Element"),null;if(!f||!f.frame)return mseLog("Parameter Error","No frame stamp defined"),null;for(var e in f)if(f[e].length!=f.frame.length)return mseLog("Parameter Error",
"KeyFrame length not compatible with the frame stamp"),null;this.length=f.frame.length;if(2>this.length)return mseLog("Length Error","KeyFrame Length must be larger than 2"),null;if(0!=f.frame[0])return mseLog("Error","Frame start point is not 0"),null;this.duration=f.frame[this.length-1];this.element=a;this.repeat=null==d?1:d;this.map=f;this.resetAnimation();this.evtDeleg=new b.EventDelegateSystem;this.map.opacity&&(this.element.globalAlpha=0==this.map.opacity[0]?0.01:this.map.opacity[0])};b.KeyFrameAnimation.prototype=
{construction:b.KeyFrameAnimation,setNoTransition:function(){this.notransition=!0},resetAnimation:function(){this.currId=-1;this.currFr=0;this.nextKf=this.map.frame[0];this.currRp=1},start:function(){for(var a in b.root.animations)if(b.root.animations[a]==this)return;b.root.animations.push(this)},isEnd:function(){return this.currFr>this.duration&&this.currRp==this.repeat?!0:!1},logic:function(){if(this.currFr<=this.duration){if(this.currFr==this.nextKf){this.currId++;this.nextKf=this.map.frame[this.currId+
1];for(var a in this.map){var b=this.map[a][this.currId];switch(a){case "frame":continue;case "pos":this.element.setPos(b[0],b[1]);break;case "size":this.element.setSize(b[0],b[1]);break;case "opacity":this.element.globalAlpha=b;break;case "fontSize":var d=checkFontSize(this.element.font);this.element.font=this.element.font.replace(d,b.toString());break;case "scale":this.element.scale=b;break;case "spriteSeq":this.element.curr=b}}}else if(!this.notransition){var e=(this.currFr-this.map.frame[this.currId])/
(this.nextKf-this.map.frame[this.currId]);for(a in this.map)switch(b=this.map[a][this.currId],d=this.map[a][this.currId+1],a){case "frame":case "spriteSeq":continue;case "pos":var h=b[2]?this.calTrans[b[2]]?b[2]:2:2,j=this.calTrans[h](e,b[0],d[0]),b=this.calTrans[h](e,b[1],d[1]);this.element.setPos(j,b);break;case "size":h=b[2]?this.calTrans[b[2]]?b[2]:2:2;j=this.calTrans[h](e,b[0],d[0]);b=this.calTrans[h](e,b[1],d[1]);this.element.setSize(j,b);break;case "opacity":h=b[1]?this.calTrans[b[1]]?b[1]:
2:2;this.element.globalAlpha=this.calTrans[h](e,b[0]?b[0]:b,d[0]?d[0]:d);break;case "fontSize":h=b[1]?this.calTrans[b[1]]?b[1]:2:2;b=Math.floor(this.calTrans[h](e,b[0]?b[0]:b,d[0]?d[0]:d));d=checkFontSize(this.element.font);this.element.font=this.element.font.replace(d,b.toString());break;case "scale":h=b[1]?this.calTrans[b[1]]?b[1]:2:2,this.element.scale=this.calTrans[h](e,b[0]?b[0]:b,d[0]?d[0]:d)}}this.currFr++}else if(0===this.repeat||this.currRp<this.repeat)this.currRp++,this.currFr=this.currId=
0,this.nextKf=this.map.frame[1];else return this.evtDeleg.eventNotif("end"),!0;return!1},calTrans:{1:function(a,b){return b},2:function(a,b,d){return b+a*(d-b)}}};b.Animation=function(a,d,e,h,j){(this.statiq=e?!0:!1)?b.UIObject.call(this,null,{}):b.UIObject.call(this,h,j?j:{});this.objs={};this.animes=[];this.duration=a;this.repeat=d;this.state=0;this.startCb=new b.Callback(this.start,this);this.block=!1};extend(b.Animation,b.UIObject);e.extend(b.Animation.prototype,{addObj:function(a,d){d instanceof
b.UIObject&&(this.objs[a]=d,this.statiq&&(d.parent=this))},getObj:function(a){return this.objs[a]},addAnimation:function(a,d,e){if(this.objs[a]&&(a=new b.KeyFrameAnimation(this.objs[a],d,this.repeat)))e&&a.setNoTransition(),this.animes.push(a)},start:function(){this.state=1;if(this.statiq&&-1==e.inArray(this,b.root.animes)){for(var a in this.animes)this.animes[a].resetAnimation();b.root.animes.push(this)}else if(!this.statiq&&-1==e.inArray(this,b.root.animations)){for(a in this.animes)this.animes[a].resetAnimation();
b.root.animations.push(this)}this.evtDeleg.eventNotif("start")},pause:function(){this.state=0},logic:function(a){if(this.state){for(var b in this.animes)this.animes[b].logic(a);for(b in this.animes)if(!this.animes[b].isEnd())return!1;this.state=0;return!1}this.evtDeleg.eventNotif("end");return!0},draw:function(a){for(var b in this.objs)this.objs[b].draw(a)}});h.mse=b})(window,$);
(function(h,e){var b="click,doubleClick,longPress,move,swipe,gestureStart,gestureUpdate,gestureEnd,gestureSingle,keydown,keypress,keyup,scroll,swipeleft,swiperight".split(",");h.Script=function(){this.script=null;this.states={};this.expects={};this.success={};this.invoke=function(){"function"==typeof this.script?this.script.call(this):this.script instanceof h.Callback&&this.script.invoke()};this.checkConditions=function(){for(var b in this.success)if(!this.success[b])return;this.invoke()};this.conditionChanged=
function(b,e){if("everytime"==this.expects[b]||"once"==this.expects[b]&&"triggered"!=this.states[b])this.success[b]=!0,this.checkConditions();this.states[b]="string"==typeof e?e:"triggered"}};h.Script.register=function(d,j,i){var a=new h.Script,f;for(f in d){var g="c"+f;a.states[g]=d[f].initial?d[f].expect:"";a.expects[g]=d[f].expect?d[f].expect:"everytime";a.success[g]=!1;a.delay=i?i:0;var m=d[f].src;-1!=e.inArray(d[f].type,b)&&!(d[f].src instanceof h.BaseContainer)?(m=m.getContainer(),m.evtDeleg.addListener(d[f].type,
new h.Callback(a.conditionChanged,a,[g]),!1,d[f].src)):m.evtDeleg.addListener(d[f].type,new h.Callback(a.conditionChanged,a,[g]),!1)}a.script=j}})(mse,$);(function(h,e){e.Point2=function(b,d){this.x=b;this.y=d};h.crePoint2=function(b,d){return new e.Point2(b,d)}})(window,mse);
(function(h){__KEY_S=83;__KEY_D=68;__KEY_O=79;__KEY_N=78;__KEY_B=66;__KEY_V=86;__KEY_C=67;__E=1.0E-6;Number.prototype.toHexString=function(){return this.toString(16)};h.EffectScreen=function(){this.cbProcess=new h.Callback(this.process,this)};h.EffectScreen.prototype={constructor:h.EffectScreen,config:{},startEffect:function(){h.root.evtDistributor.addListener("drawover",this.cbProcess)},process:function(){},endEffect:function(){h.root.evtDistributor.removeListener("drawover",this.cbProcess)},toString:function(){return"[object mse.EffectScreen]"}};
h.ESDropdownByCss=function(e){h.EffectScreen.call(this);this.config={target:"book",duration:500,g:9.8};e&&$.extend(this.config,e);this.count=0;e=document.getElementById(this.config.target);this.defaultLeft=checkFontSize(e.style.left);this.defaultTop=checkFontSize(e.style.top);this.markFalling=!0;this.buffH=0;this.g=this.config.g;this.t=this.Vt=this.Vo=this.h=0};extend(h.ESDropdownByCss,h.EffectScreen);$.extend(h.ESDropdownByCss.prototype,{label:"dropdownByCss",process:function(e){this.markFalling?
this.falling():this.rising();h.root.setPos(this.defaultLeft,this.h-e.canvas.height);this.count++;this.t++;this.count>this.config.duration&&this.endEffect()},falling:function(){this.Vt=this.Vo+this.g*this.t;this.h=this.buffH+0.5*this.g*this.t*this.t;600<this.h&&(this.h=600,this.t=0,this.Vo=this.Vt/1.7,this.markFalling=!1)},rising:function(){this.Vt=this.Vo+-this.g*this.t;this.h=600-(this.Vt*this.Vt-this.Vo*this.Vo)/(2*-this.g);0>this.Vt&&(this.buffH=this.h,this.Vo=this.t=0,this.markFalling=!0)},toString:function(){return this.label}});
h.EffectText=function(e,b,d){this.config=b;this.subject=e;this.multi=d};h.EffectText.prototype={constructor:h.EffectText,config:{},draw:function(){},logic:function(){},toString:function(){return"[object mse.EffectText]"}};h.ETFade=function(e,b,d){h.EffectText.call(this,e,b,d);this.count=0;this.config={duration:30,start:0,end:1};b&&$.extend(this.config,b)};extend(h.ETFade,h.EffectText);$.extend(h.ETFade.prototype,{label:"fade",logic:function(){if(this.count<=this.config.duration){if(this.subject.globalAlpha=
this.config.start+this.count/this.config.duration*(this.config.end-this.config.start),this.count++,this.multi)return!0}else{if(this.multi)return!1;this.subject.endEffect()}},draw:function(e){e.fillText(this.subject.text,this.subject.getX(),this.subject.getY())},toString:function(){return this.label}});h.ETTypewriter=function(e,b,d){h.EffectText.call(this,e,b,d);this.indice=0;this.phraseAffichage="";this.controlSpeed=0;this.alphabetsDePhrase=this.subject.text.split("");this.config={speed:1};b&&$.extend(this.config,
b);this.config.speed-=1};extend(h.ETTypewriter,h.EffectText);$.extend(h.ETTypewriter.prototype,{label:"typewriter",logic:function(){if(this.indice!=this.alphabetsDePhrase.length){if(this.config.speed==this.controlSpeed?(this.phraseAffichage+=this.alphabetsDePhrase[this.indice],this.indice++,this.controlSpeed=0):this.controlSpeed++,this.multi)return!0}else{if(this.multi)return!1;this.subject.endEffect()}},draw:function(e){e.fillText(this.phraseAffichage,this.subject.getX(),this.subject.getY())},toString:function(){return this.label}});
h.MultiEffectContainer=function(e,b){h.EffectText.call(this,e);this.dictObjEffects=b;this.arrayEffectName=Object.keys(this.dictObjEffects);this.filtered=this.filterEffect(this.arrayEffectName)};extend(h.MultiEffectContainer,h.EffectText);$.extend(h.MultiEffectContainer.prototype,{label:"multieffect",classification:{fadein:"param",colored:"param",zoomtext:"zoom",flytext:"trajet",painttext:"imageData",typewriter:"content",twisttext:"content",twistmultitext:"content"},conflict:{param:[],zoom:["imageData"],
trajet:["imageData","content","trajet"],imageData:["trajet","zoom","content","imageData"],content:["imageData","trajet","content"]},filterEffect:function(e){for(var b=null,d=[],j=[],i=0;i<e.length;i++){var a=h.MultiEffectContainer.prototype.classification[e[i]],f=!1,g;for(g in d)if(d[g]==a){delete e[i];f=!0;break}if(!f)switch(j.push(e[i]),d=d.concat(h.MultiEffectContainer.prototype.conflict[a]),a){case "trajet":case "imageData":case "content":b=e[i];break;default:null==b&&(b=e[i])}}return{filteredEffectArray:j,
principalDraw:b}},logic:function(e){var b=!0,d;for(d in this.filtered.filteredEffectArray)this.dictObjEffects[this.filtered.filteredEffectArray[d]].logic(e)&&(b=!1);b&&this.subject.endEffect()},draw:function(e){this.dictObjEffects[this.filtered.principalDraw].draw(e)},toString:function(){return this.label}});h.initTextEffect=function(e,b){if(2>Object.keys(e).length){for(var d in e)switch(d){case "fade":return new h.ETFade(b,e[d],!1);case "colored":return new h.ETColored(b,e[d],!1);case "typewriter":return new h.ETTypewriter(b,
e[d],!1);case "painttext":return new h.ETPainttext(b,e[d],!1);case "flytext":return new h.ETFlytext(b,e[d],!1);case "zoomtext":return new h.ETZoomtext(b,e[d],!1);case "twisttext":return new h.ETTwisttext(b,e[d],!1);case "twistmultitext":return new h.ETTwistMultiText(b,e[d],!1);default:return null}return null}var j={};for(d in e)switch(d){case "fade":j[d]=new h.ETFade(b,e[d],!0);break;case "colored":j[d]=new h.ETColored(b,e[d],!0);break;case "typewriter":j[d]=new h.ETTypewriter(b,e[d],!0);break;case "painttext":j[d]=
new h.ETPainttext(b,e[d],!0);break;case "flytext":j[d]=new h.ETFlytext(b,e[d],!0);break;case "zoomtext":j[d]=new h.ETZoomtext(b,e[d],!0);break;case "twisttext":j[d]=new h.ETTwisttext(b,e[d],!0);break;case "twistmultitext":j[d]=new h.ETTwistMultiText(b,e[d],!0)}return new h.MultiEffectContainer(b,j)};h.EffectImage=function(e,b,d){this.config=b;this.subject=e;this.multi=d};h.EffectImage.prototype={constructor:h.EffectImage,config:{},draw:function(){},logic:function(){},toString:function(){return"[object mse.EffectImage]"}};
h.MultiImageEffectContainer=function(e,b){h.EffectImage.call(this,e);this.dictObjEffects=b;this.arrayEffectName=Object.keys(this.dictObjEffects);this.filtered=this.filterEffect(this.arrayEffectName)};extend(h.MultiImageEffectContainer,h.EffectImage);$.extend(h.MultiImageEffectContainer.prototype,{label:"multieffectImage",conflict:{param:[],weather:["weather","pixel","candle"],pixel:["pixel","weather","candle"],candle:["pixel","weather"]},classification:{fade:"param",snow:"weather",rain:"weather",
fog:"weather",erase:"pixel",vibration:"weather",colorswitch:"pixel",blur:"pixel",sunrise:"pixel",lightcandle:"candle"},filterEffect:function(e){for(var b=null,d=[],j=[],i=0;i<e.length;i++){var a=h.MultiImageEffectContainer.prototype.classification[e[i]],f=!1,g;for(g in d)if(d[g]==a){delete e[i];f=!0;break}if(!f)switch(j.push(e[i]),d=d.concat(h.MultiImageEffectContainer.prototype.conflict[a]),a){case "pixel":case "weather":b=e[i];break;default:null==b&&(b=e[i])}}return{filteredEffectArray:j,principalDraw:b}},
logic:function(e){var b=!0,d;for(d in this.filtered.filteredEffectArray)this.dictObjEffects[this.filtered.filteredEffectArray[d]].logic(e)&&(b=!1);b&&this.subject.endEffect()},draw:function(e,b,d){this.dictObjEffects[this.filtered.principalDraw].draw(e,b,d)},toString:function(){return this.label}});h.initImageEffect=function(e,b){if(2>Object.keys(e).length){for(var d in e)switch(d){case "fade":return new h.EIFade(b,e[d],!1);case "snow":return new h.EISnow(b,e[d],!1);case "rain":return new h.EIRain(b,
e[d],!1);case "fog":return new h.EIFog(b,e[d],!1);case "colorswitch":return new h.EIColorSwitch(b,e[d],!1);case "blur":return new h.EIBlur(b,e[d],!1);case "lightcandle":return new h.EILightcandle(b,e[d],!1);case "erase":return new h.EIErase(b,e[d],!1);case "vibration":return new h.EIVibration(b,e[d],!1);case "sunrise":return new h.EISunrise(b,e[d],!1);default:return null}return null}var j={};for(d in e)switch(d){case "fade":j[d]=new h.EIFade(b,e[d],!0);break;case "snow":j[d]=new h.EISnow(b,e[d],!0);
break;case "rain":j[d]=new h.EIRain(b,e[d],!0);break;case "fog":j[d]=new h.EIFog(b,e[d],!0);break;case "colorswitch":j[d]=new h.EIColorSwitch(b,e[d],!0);break;case "blur":j[d]=new h.EIBlur(b,e[d],!0);break;case "lightcandle":j[d]=new h.EILightcandle(b,e[d],!0);break;case "erase":j[d]=new h.EIErase(b,e[d],!0);break;case "vibration":j[d]=new h.EIVibration(b,e[d],!0);break;case "sunrise":j[d]=new h.EISunrise(b,e[d],!0)}return new h.MultiImageEffectContainer(b,j)};h.distance=function(e,b,d,h){e=Math.abs(e-
d);b=Math.abs(b-h);return Math.sqrt(e*e+b*b)};h.sin=function(e,b,d,h){void 0==b&&(b=1);void 0==d&&(d=1);void 0==h&&(h=0);return b*Math.sin(d*e*(Math.PI/180))+h};h.cos=function(e,b,d,h){void 0==b&&(b=1);void 0==d&&(d=1);void 0==h&&(h=0);return b*Math.cos(d*e*(Math.PI/180))+h};h.min3num=function(e,b,d){var h=e;e>b&&(h=b);return h>d?d:h};h.max3num=function(e,b,d){var h=e;e<b&&(h=b);return h<d?d:h};h.rgb_hsl=function(e,b,d){var e=e/255,j=b/255,i=d/255,b=h.min3num(e,j,i),d=h.max3num(e,j,i);if(Math.abs(d-
b)<=__E)e=0;else if(Math.abs(d-e)<=__E)e=60*((j-i)/(d-b))+360,360<e&&(e-=360);else if(Math.abs(d-j)<=__E)e=60*((i-e)/(d-b))+120;else if(Math.abs(d-i)<=__E)e=60*((e-j)/(d-b))+240;else return!1;b=Math.abs(d)<=__E?0:(d-b)/d;return[e,255*b,255*d]};h.hsl_rgb=function(e,b,d){var h,i,a;i=b/255;d/=255;a=Math.floor(e/60)%6;h=e/60-Math.floor(e/60);e=d*(1-i);b=d*(1-h*i);i=d*(1-(1-h)*i);switch(a){case 0:a=d;h=i;d=e;break;case 1:a=b;h=d;d=e;break;case 2:a=e;h=d;d=i;break;case 3:a=e;h=b;break;case 4:a=i;h=e;break;
case 5:a=d;h=e;d=b;break;default:return!1}return[255*a,255*h,255*d]};h.showFPS=function(e){function b(){d.innerHTML="FPS:"+e.logger.frameCount;e.logger.frameCount=0}if(null!=e){null==e.logger&&(e.logger={frameCount:0});var d=document.getElementById("fpsBar");if(null==d){d=document.createElement("div");document.body.appendChild(d);var h={backgroundColor:"rgba(0,0,0,0.5)",position:"absolute",left:"300px",top:"1px",color:"#fff",width:"100px",height:"30px",border:"solid 1px #ccc",fontSize:"22px",zIndex:99999},
i;for(i in h)d.style[i]=h[i]}setInterval(b,999)}}})(mse);
var RatGame=function(){mse.Game.call(this);var h=mse.joinCoor(220),e=mse.joinCoor(0),b=mse.joinCoor(360),d=mse.joinCoor(600);this.offx=mse.coor(h);this.offy=mse.coor(e);this.width=mse.coor(b);this.height=mse.coor(d);mse.src.addSource("ratImg","./games/rat.png","img");var j=new mse.Sprite(this,{pos:[30,this.height-80]},"ratImg",80,50,0,0,400,100),i=new mse.Sprite(this,{pos:[20,this.height-96]},"ratImg",39,34,400,0,39,34),a=new mse.Sprite(this,{pos:[45,this.height-80]},"ratImg",40,113,0,101,400,113);
mse.src.addSource("sacImg","./games/sac.png","img");var f=new mse.Image(this,{pos:[this.width-160,20],insideRec:[60,40,60,60]},"sacImg"),g=new mse.Sprite(this,{pos:[this.width-100,175]},"sacImg",60,40,60,155,60,40),h=[0,1,2,3,4,5,6,7,8,9],m=new mse.FrameAnimation(j,h,0,2),k=new mse.FrameAnimation(a,h,0,2);this.dragStart=function(b){var d=b.offsetX-this.offx,b=b.offsetY-this.offy;30<d&&110>d&&b>this.height-80&&b<this.height-30&&(this.sit=!1,a.offx=d-20,a.offy=b-14,m.stop(),k.start())};this.dragMove=
function(b){var d=b.offsetY-this.offy-14;a.offx=b.offsetX-this.offx-20;a.offy=d};this.dragEnd=function(b){var d=b.offsetX-this.offx,e=b.offsetY-this.offy;this.sit||(f.inObj(b.offsetX,b.offsetY)?(b=new mse.KeyFrameAnimation(a,{frame:[0,25,35],pos:[[d,e],[f.offx+70,f.offy+125],[f.offx+70,f.offy+125]]},1),b.evtDeleg.addListener("end",new mse.Callback(this.end,this)),b.start(),this.droped=!0,mse.root.evtDistributor.removeListener("gestureStart",r),mse.root.evtDistributor.removeListener("gestureUpdate",
t),mse.root.evtDistributor.removeListener("gestureEnd",p)):(this.sit=!0,k.stop(),m.start()))};var r=new mse.Callback(this.dragStart,this),t=new mse.Callback(this.dragMove,this),p=new mse.Callback(this.dragEnd,this);this.init=function(){mse.root.evtDistributor.addListener("gestureStart",r,!0,this);mse.root.evtDistributor.addListener("gestureUpdate",t,!0,this);mse.root.evtDistributor.addListener("gestureEnd",p,!0,this);this.sit=!0;this.droped=!1;m.start()};this.logic=function(){if(this.droped){var b=
g.offy-a.offy-114;a.fh=0>b?114+b:114;a.height=a.fh}};this.draw=function(b){f.draw(b);this.sit?(j.draw(b),i.draw(b),b.save(),b.fillStyle="#FFF",b.translate(i.getX()+1.2*i.getWidth(),i.getY()-24),b.beginPath(),b.moveTo(-10,30),b.lineTo(0,15),b.lineTo(10,30),b.lineTo(-10,30),b.fill(),b.fillRoundRect(0,0,240,30,10),b.fillStyle="#000",b.font="20px Verdana",b.textBaseline="top",b.fillText("Aide Simon, vite!",10,4),b.restore()):a.draw(b);this.droped&&g.draw(b)}};extend(RatGame,mse.Game);
function angleFor2Point(h,e){var b=0,b=Math.atan2(e.y-h.y,e.x-h.x);return Math.round(180*b/Math.PI)}function distance2Pts(h,e,b,d){return Math.sqrt(Math.pow(b-h,2)+Math.pow(d-e,2))}function inrect(h,e,b){return h>=b[0]&&h<=b[0]+b[2]&&e>=b[1]&&e<=b[1]+b[3]?!0:!1}function xRelatRect(h,e){return h<e[0]?-1:h>=e[0]&&h<=e[0]+e[2]?0:1}function yRelatRect(h,e){return h<e[1]?-1:h>=e[1]&&h<=e[1]+e[3]?0:1}
var NPC=function(h,e,b){2>e.length&&mseLog("Array Error","Array 'course' demande minimum 2 elements");e.length!=b.length&&mseLog("Array Error","Array 'course' have to be the same size of array 'dir'");this.sprite=h;this.animes=[];this.animes.run=new mse.FrameAnimation(h,[0,1,2,3,4,5],0,5);this.animes.stand=new mse.FrameAnimation(h,[6],0,1E3);this.v=6;this.visiond=180;this.visiona=40;this.startAngle=this.visiona*Math.PI/180;this.endAngle=-this.startAngle;this.startP=crePoint2(Math.cos(this.startAngle)*
this.visiond,Math.sin(this.startAngle)*this.visiond);this.course=e;this.dir=b;this.pos=new mse.Point2(e[0].x,e[0].y);this.currStep=0;this.nextStep=1;this.direction=angleFor2Point(this.course[0],this.course[1]);0!=b[this.currStep].length?(this.currDir=0,this.tarDir=this.dir[this.currStep][this.currDir],this.state=1,this.animes.run.stop(),this.animes.stand.start()):(this.tarDir=this.direction,this.state=0,this.animes.run.start(),this.animes.stand.stop());this.logic=function(){switch(this.state){case 0:var b=
this.course[this.nextStep].x-this.pos.x,e=this.course[this.nextStep].y-this.pos.y;if(b==0)if(e<-this.v){this.pos.y=this.pos.y-this.v;break}else{if(e>this.v){this.pos.y=this.pos.y+this.v;break}}else if(b<-this.v){this.pos.x=this.pos.x-this.v;break}else if(b>this.v){this.pos.x=this.pos.x+this.v;break}this.pos=new mse.Point2(this.course[this.nextStep].x,this.course[this.nextStep].y);if(this.currStep<this.nextStep){this.currStep=this.nextStep;this.nextStep=this.nextStep==this.course.length-1?this.nextStep-
1:this.nextStep+1}else{this.currStep=this.nextStep;this.nextStep=this.nextStep==0?1:this.nextStep-1}this.state=1;this.animes.run.stop();this.animes.stand.start();if(this.dir[this.currStep].length!=0)this.tarDir=this.dir[this.currStep][this.currDir];else{this.currDir=-1;this.tarDir=angleFor2Point(this.course[this.currStep],this.course[this.nextStep])}break;case 1:b=this.tarDir-this.direction;if(b<-2)this.direction=this.direction-2;else if(b>2)this.direction=this.direction+2;else{this.direction=this.tarDir;
if(this.currDir==-1){this.currDir=this.state=0;this.animes.run.start();this.animes.stand.stop();break}if(this.currDir<this.dir[this.currStep].length-1){this.currDir++;this.tarDir=this.dir[this.currStep][this.currDir]}else{this.tarDir=angleFor2Point(this.course[this.currStep],this.course[this.nextStep]);this.currDir=-1}}}};this.draw=function(b,e,h){b.save();b.translate(e+this.pos.x,h+this.pos.y);b.rotate(this.direction*Math.PI/180);b.fillStyle="rgba(200,0,0,0.5)";b.beginPath();b.lineTo(this.startP.x,
this.startP.y);b.arc(0,0,this.visiond,this.startAngle,this.endAngle,true);b.lineTo(0,0);b.fill();b.translate(-20,-18);this.sprite.draw(b);b.restore()}},FindSimon=function(){mse.Game.call(this);this.msg={INIT:"Clique pour aider Simon \u00e0 \u00e9chapper \u00e0 la Meute.",WIN:"Bravo!!! Simon est sauv\u00e9."};this.state="INIT";mse.src.addSource("parc","./games/Parc.jpg","img",!0);mse.src.addSource("perso_parc","./games/personnages.png","img",!0);mse.src.addSource("notice_parc","./games/points-persos.png",
"img",!0);var h=[];h[0]=new mse.Sprite(null,{},"perso_parc",40,37,0,37,280,37);h[1]=new mse.Sprite(null,{},"perso_parc",40,37,0,74,280,37);h[2]=new mse.Sprite(null,{},"perso_parc",40,37,0,111,280,37);h[3]=new mse.Sprite(null,{},"perso_parc",40,37,0,148,280,37);var e=[[190,250,60,650],[390,250,60,650],[580,250,60,320],[640,960,60,190],[830,570,60,390],[1030,320,60,380],[1350,320,60,770],[1660,190,60,960]],b=[[190,190,450,60],[1090,320,260,60],[640,510,390,60],[1410,570,250,60],[890,700,460,60],[190,
900,640,60],[700,1090,960,60]],d=[[crePoint2(415,925),crePoint2(415,225)],[crePoint2(810,925),crePoint2(675,925),crePoint2(675,1115)],[crePoint2(1695,335),crePoint2(1695,605),crePoint2(1695,840)],[crePoint2(1060,335),crePoint2(1060,540),crePoint2(1060,735),crePoint2(1370,735)]],j=[[[180,0],[0,180]],[[90],[],[0]],[[180],[180],[180]],[[0],[180],[],[90,-90]]];this.npc=[];for(var i=0;4>i;i++)this.npc[i]=new NPC(h[i],d[i],j[i]);this.simon=new mse.Sprite(null,{},"perso_parc",40,37,0,0,280,37);this.simonrun=
new mse.FrameAnimation(this.simon,[0,1,2,3,4,5],0,7);this.simonstand=new mse.FrameAnimation(this.simon,[6],0,1E3);this.spark=0;this.init=function(){this.npc[3].v=3;this.simondir=0;this.simonrun.stop();this.simonstand.start();this.onmove=!1;this.sx=this.sy=this.sw=this.sh=this.dx=this.dy=this.dw=this.dh=0;this.sp=new mse.Point2(225,725);this.pos=new mse.Point2(this.width/2-this.sp.x,this.height/2-this.sp.y);this.disx=this.disy=0;mse.root.evtDistributor.addListener("keydown",this.movecb,!0,this);mse.root.evtDistributor.addListener("keyup",
this.moveovercb,!0,this);MseConfig.mobile&&(mse.root.evtDistributor.addListener("gestureUpdate",this.touchMovecb,!0,this),mse.root.evtDistributor.addListener("gestureEnd",this.moveovercb,!0,this))};this.draw=function(a){a.save();a.translate(this.offx,this.offy);a.beginPath();a.moveTo(0,0);a.lineTo(this.width-5,0);a.lineTo(this.width-5,this.height-5);a.lineTo(0,this.height-5);a.closePath();a.clip();a.drawImage(mse.src.getSrc("parc"),this.sx,this.sy,this.sw,this.sh,this.dx,this.dy,this.dw,this.dh);
a.save();a.translate(this.width/2,this.height/2);a.rotate(this.simondir*Math.PI/180);a.translate(-20,-18);this.simon.draw(a);a.restore();for(var b=0;4>b;b++)this.npc[b].draw(a,this.pos.x,this.pos.y);a.globalAlpha=0.7;a.drawImage(mse.src.getSrc("parc"),5,5,192,128);a.globalAlpha=1;a.fillStyle="rgb(0,200,0)";a.fillRect(4+this.sp.x/10,4+this.sp.y/10,2,2);a.fillStyle="rgba(250,230,200,0.8)";10==this.spark?(this.spark=0,a.beginPath(),a.arc(174,34,3,0,2*Math.PI,!0),a.fill()):this.spark++;a.restore()};this.logic=
function(a){0<this.pos.x?(this.sx=0,this.sw=this.width-this.pos.x,this.dx=this.pos.x):(this.sx=-this.pos.x,this.sw=this.pos.x+1920<this.width?1920+this.pos.x:this.width,this.dx=0);0<this.pos.y?(this.sy=0,this.sh=this.height-this.pos.y,this.dy=this.pos.y):(this.sy=-this.pos.y,this.sh=this.pos.y+1280<this.height?1280+this.pos.y:this.height,this.dy=0);this.dw=this.sw;this.dh=this.sh;this.pos.x+=this.disx;this.pos.y+=this.disy;this.colliDetect()&&(this.pos.x-=this.disx,this.pos.y-=this.disy);this.sp.x=
this.width/2-this.pos.x;this.sp.y=this.height/2-this.pos.y;60>=Math.abs(this.sp.x-1690)&&10>=Math.abs(this.sp.y-290)&&(mse.root.evtDistributor.removeListener("keydown",this.movecb),mse.root.evtDistributor.removeListener("keyup",this.moveoverc),MseConfig.mobile&&(mse.root.evtDistributor.removeListener("gestureUpdate",this.touchMovecb),mse.root.evtDistributor.removeListener("gestureEnd",this.moveovercb)),this.state="WIN",this.end());for(var b=0;4>b;b++){var d=this.npc[b];d.logic(a);var e=Math.round(distance2Pts(this.sp.x,
this.sp.y,d.pos.x,d.pos.y)),h=angleFor2Point(d.pos,this.sp),h=Math.abs(h-d.direction);180<h&&(h=360-h);170>=e&&h<=d.visiona&&(mse.root.evtDistributor.removeListener("keydown",this.movecb),mse.root.evtDistributor.removeListener("keyup",this.moveovercb),MseConfig.mobile&&(mse.root.evtDistributor.removeListener("gestureUpdate",this.touchMovecb),mse.root.evtDistributor.removeListener("gestureEnd",this.moveovercb)),this.lose())}};this.colliDetect=function(){for(var a=this.width/2-this.pos.x,d=this.height/
2-this.pos.y,g=0;g<e.length;g++){var h=xRelatRect(a,e[g]);if(-1==h)break;else if(0==h&&0==yRelatRect(d,e[g]))return!1}for(g=0;g<b.length&&!(h=yRelatRect(d,b[g]),-1==h);g++)if(0==h&&0==xRelatRect(a,b[g]))return!1;return!0};this.move=function(a){var b=!1;switch(a.keyCode){case __KEY_LEFT:this.disx=4;this.disy=0;this.simondir=180;b=!0;break;case __KEY_RIGHT:this.disx=-4;this.simondir=this.disy=0;b=!0;break;case __KEY_UP:this.disy=4;this.disx=0;this.simondir=-90;b=!0;break;case __KEY_DOWN:this.disy=-4,
this.disx=0,this.simondir=90,b=!0}b&&!this.onmove&&(this.onmove=!0,this.simonrun.start(),this.simonstand.stop())};this.touchMove=function(a){var b=!0,a=angleFor2Point({x:a.listX[0],y:a.listY[0]},{x:a.offsetX,y:a.offsetY});0<=a&&15>=a||0>=a&&-15<=a?(this.disx=-4,this.simondir=this.disy=0):75<=a&&105>=a?(this.disy=-4,this.disx=0,this.simondir=90):165<=a||-165>=a?(this.disx=4,this.disy=0,this.simondir=180):-75>=a&&-105<=a?(this.disy=4,this.disx=0,this.simondir=-90):b=!1;b&&!this.onmove&&(this.onmove=
!0,this.simonrun.start(),this.simonstand.stop())};this.moveover=function(){this.disy=this.disx=0;this.onmove=!1;this.simonrun.stop();this.simonstand.start()};this.movecb=new mse.Callback(this.move,this);this.moveovercb=new mse.Callback(this.moveover,this);this.touchMovecb=new mse.Callback(this.touchMove,this)};extend(FindSimon,mse.Game);mse.coords=JSON.parse('{"cid0":800,"cid1":600,"cid2":0,"cid3":20,"cid4":305,"cid5":46.25,"cid6":342.5,"cid7":35,"cid8":197.5,"cid9":38.75,"cid10":425,"cid11":122.5,"cid12":30,"cid13":190,"cid14":40,"cid15":578.75,"cid16":533.75,"cid17":160,"cid18":27.5,"cid19":601.25,"cid20":543.75,"cid21":13.75,"cid22":400,"cid23":200,"cid24":41.25,"cid25":235,"cid26":108.75,"cid27":32.5,"cid28":177.5,"cid29":61.25,"cid30":320,"cid31":247.5,"cid32":340,"cid33":590,"cid34":230,"cid35":10,"cid36":22.5,"cid37":306,"cid38":417.384,"cid39":17,"cid40":397.8,"cid41":250,"cid42":100,"cid43":300,"cid44":409,"cid45":-200,"cid46":1090,"cid47":33,"cid48":109,"cid49":343,"cid50":41,"cid51":248,"cid52":178,"cid53":61,"cid54":344,"cid55":120,"cid56":255,"cid57":263,"cid58":296,"cid59":301,"cid60":298,"cid61":396,"cid62":201,"cid63":225,"cid64":19,"cid65":70,"cid66":783,"cid67":240,"cid68":771,"cid69":211,"cid70":163,"cid71":124,"cid72":180,"cid73":584,"cid74":144,"cid75":113,"cid76":210,"cid77":214,"cid78":379}');
initMseConfig();mse.init();
function createbook(){function h(a,b){b.startEffect(a)}var e=new mse.Root("Voodoo_Ch1",mse.coor("cid0"),mse.coor("cid1"),"portrait"),b,d,j,i,a,f,g,m,k,r,t,p,n,C,w,o,x,q;mse.src.addSource("src0","./images/src0.png","img",!0);mse.src.addSource("src1","./images/src1.jpeg","img",!0);mse.src.addSource("src2","./images/src2.jpeg","img",!0);mse.src.addSource("src3","./images/src3.jpeg","img",!0);mse.src.addSource("src4","./images/src4.jpeg","img",!0);mse.src.addSource("src5","./audios/src5.ogg","aud",!1);
mse.src.addSource("src6","./images/src6.png","img",!0);mse.src.addSource("src7","./images/src7.png","img",!0);mse.src.addSource("src8","./images/src8.png","img",!0);mse.src.addSource("src9","./images/src9.jpeg","img",!0);n=new mse.WikiLayer;n.addTextCard();n.textCard.addSection("Un Cyclope chez les X-Men","Cyclope est aussi un super-h\u00e9ros cr\u00e9\u00e9 par J. Kirby et S. Lee en 1963. C\u2019est un mutant qui g\u00e9n\u00e8re des rayons extr\u00eamement puissants avec ses yeux mais il \u00e9vite au maximum d\u2019utiliser la violence. Il devient un des leaders des X-Men.");
n.textCard.addLink("Lien","http://fr.wikipedia.org/wiki/Cyclope_%28comics%29");n.addTextCard();n.textCard.addSection("Cyclope","Nom, masculin\u00a0: Les cyclopes sont des cr\u00e9atures fantastiques de la mythologie grecque. Ce sont des g\u00e9ants qui ne poss\u00e8dent qu\u2019un seul \u0153il au milieu du front. Ils \u00e9taient soit forgerons, b\u00e2tisseurs ou pasteurs.");n.textCard.addLink("Lien","http://fr.wikipedia.org/wiki/Cyclope");n.addImage("src8","Polyph\u00e8me, fils de Pos\u00e9\u00efdon");
n.addImage("src9","Cyclope, super-h\u00e9ros des X-Men");p=new RatGame;mse.src.addSource("src10","./images/src10.jpeg","img",!0);mse.src.addSource("src13","./images/src13.jpeg","img",!0);mse.src.addSource("src16","./images/src16.png","img",!0);mse.src.addSource("src17","./audios/src17","aud",!1);mse.src.addSource("src18","./audios/src18","aud",!1);mse.src.addSource("src19","./audios/src19","aud",!1);mse.src.addSource("src20","./audios/src20","aud",!1);mse.src.addSource("src21","./audios/src21","aud",
!1);new FindSimon;C=new mse.WikiLayer;C.addTextCard();C.textCard.addSection("Frondaison","Nom, f\u00e9minin\u00a0:  - Les feuilles et les branches d\u2019un arbre - Epoque o\u00f9 les feuilles commencent \u00e0 pousser");C.textCard.addSection("Synonymes","Feuillage, Ramure, Branchage");mse.src.addSource("src22","./images/src22.jpeg","img",!0);w=new mse.WikiLayer;w.addImage("src22","L'hallali du cerf, peint par Courbet en 1867");w.addTextCard();w.textCard.addSection("Nom masculin"," - Sonnerie de chasse \u00e0 courre qui annonce la prise imminente de l\u2019animal, d\u2019o\u00f9 l\u2019expression\u00a0:\u00a0Sonner l\u2019hallali\u00a0: annoncer la d\u00e9faite de quelqu\u2019un. - Moment o\u00f9 l\u2019animal est pris - Par extension\u00a0: d\u00e9b\u00e2cle, d\u00e9faite");
w.addTextCard();w.textCard.addSection("L\u2019hallali","Interjection\u00a0: Cri du chasseur qui attrape du gibier lors d\u2019une chasse \u00e0 courre.");mse.src.addSource("src23","./images/src23.jpeg","img",!0);mse.src.addSource("src25","./images/src25.jpeg","img",!0);o=new mse.WikiLayer;o.addImage("src25","Salif Ke\u00efta");o.addImage("src23","Rat albinos");o.addTextCard();o.textCard.addSection("Les c\u00e9l\u00e8bres","Il existe des albinos c\u00e9l\u00e8bres parmi lesquels Salif Ke\u00efta, chanteur et musicien malien. Il a obtenu une Victoire de la musique en 2010 pour son album \u00ab\u00a0La Diff\u00e9rence\u00a0\u00bb");
o.textCard.addLink("Lien site officiel\u00a0 Salif Ke\u00efta","http://salif-keita.artiste.universalmusic.fr/");o.addTextCard();o.textCard.addSection("Les albinos","Les albinos ont une vision d\u00e9ficiente et sont sujets \u00e0 des\u00a0cancers\u00a0de la peau s'ils ne sont pas prot\u00e9g\u00e9s du soleil. C\u2019est une maladie h\u00e9r\u00e9ditaire (qui se transmet de g\u00e9n\u00e9ration en g\u00e9n\u00e9ration). Il y a environ 1 cas pour 20.000 naissances dans le monde.");o.addTextCard();o.textCard.addSection("Albinos",
"Adjectif invariable\u00a0:Qui est affect\u00e9 d'albinisme.");o.textCard.addSection("Albinisme","nom masculin\u00a0: maladie g\u00e9n\u00e9tique qui se caract\u00e9rise par une absence du pigment destin\u00e9 \u00e0 colorer la peau, les poils, les cheveux ainsi que par des yeux rouges. Elle affecte les humains ou les animaux.");x=new mse.WikiLayer;x.addTextCard();x.textCard.addSection("Nyctalope","A ne pas confondre avec nyctalope : un adjectif qui d\u00e9signe celui qui a la facult\u00e9 de voir dans la p\u00e9nombre, comme les chats");
x.textCard.addSection("A moins d\u2019inventer"," - Nyctambule\u00a0: qui recherche les f\u00e9tards \u00e9gar\u00e9s la nuit - Noctalope\u00a0: qui travaille la nuit sans avoir besoin de lumi\u00e8re");x.addTextCard();x.textCard.addSection("Noctambule","Nom masculin ou f\u00e9minin\u00a0:  - personne ou animal qui a l\u2019habitude de se promener la nuit. - personne qui aime faire la f\u00eate la nuit. - Par extension\u00a0: personne qui est en activit\u00e9 la nuit");mse.src.addSource("src26","./images/src26.jpeg",
"img",!0);mse.src.addSource("src27","./images/src27.jpeg","img",!0);mse.src.addSource("src28","./images/src28.jpeg","img",!0);q=new mse.WikiLayer;q.addTextCard();q.textCard.addSection("La Petite Ceinture","La Petite Ceinture est une ancienne ligne de chemin de fer longue de 32 km qui faisait le tour de Paris.Elle fut termin\u00e9e en 1869 et destin\u00e9e au trafic de marchandises et de voyageurs. Concurrenc\u00e9e par le m\u00e9tro, elle est d\u00e9finitivement ferm\u00e9e au trafic des voyageurs en 1985. Le trafic de marchandise est totalement arr\u00eat\u00e9 au d\u00e9but des ann\u00e9es 1990.");
q.textCard.addLink("Lien Wikip\u00e9dia","http://fr.wikipedia.org/wiki/Ligne_de_Petite_Ceinture");q.addTextCard();q.textCard.addSection("Biodiversit\u00e9","Elle est consid\u00e9r\u00e9e comme une r\u00e9serve de biodiversit\u00e9. On peut y observer de nombreuses vari\u00e9t\u00e9s d\u2019arbres, de plantes et la plus grande colonie de chauve-souris de l\u2019esp\u00e8ce pipistrelle d\u2019Ile de France. La ville de Paris y am\u00e9nage des parcours p\u00e9dagogiques, proposant ainsi un nouveau type de promenade nature \u00e0 Paris.");
q.textCard.addLink("Lien Mairie de Paris","http://www.paris.fr/loisirs/se-promener-a-paris/balades-au-vert/decouvrir-les-richesses-de-la-petite-ceinture/rub_9660_stand_53584_port_23803");q.addImage("src26","Vue des voies de la Petite Ceinture dans le 13e arrondissement");q.addImage("src27","La Petite Ceinture traverse le Parc Montsouris");q.addImage("src28","La gare de Charonne, aujourd'hui caf\u00e9 La Fl\u00e8che d'Or");var D,u,s,v,E,y,F,G,H,z,A,I,J,c,M,ia,ja,ka,N,la,ma,O,P,Q,B,na,oa,pa,qa,ra,sa,
ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,R,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,S,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,T,rb,sb,tb,ub,vb,wb,xb,yb,U,zb,Ab,V,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,W,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,X,hc,ic,jc,kc,lc,mc,nc,oc,Y,Z,pc,aa,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,ba,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,ca,Uc,Vc,Wc,Xc,Yc,Zc,$c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,
sd,td,ud,vd,wd,xd,yd,da,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,ae,be,ce,de,K,ee,fe,ge,he,ie,je,ke,le,ea,me,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,fa,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf;D=new mse.BaseContainer(e,{size:[mse.coor("cid0"),mse.coor("cid1")]});E=new mse.Layer(D,1,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});M=new mse.Image(E,
{size:[mse.coor("cid0"),mse.coor("cid1")],pos:[mse.coor("cid2"),mse.coor("cid2")],fillStyle:"rgb(0, 0, 0)",globalAlpha:1,font:"normal "+mse.coor("cid3")+"px Times",textAlign:"left"},"src3");E.addObject(M);D.addLayer("back",E);y=new mse.Layer(D,2,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});ia=new mse.Text(y,{size:[mse.coor("cid4"),mse.coor("cid5")],pos:[mse.coor("cid6"),mse.coor("cid5")],fillStyle:"rgb(255, 255, 255)",globalAlpha:1,font:"normal "+mse.coor("cid7")+"px Verdanda",
textAlign:"left",textBaseline:"top"},"Voodoo Connection",!0);y.addObject(ia);ja=new mse.Text(y,{size:[mse.coor("cid8"),mse.coor("cid9")],pos:[mse.coor("cid10"),mse.coor("cid11")],fillStyle:"rgb(81, 61, 29)",globalAlpha:1,font:"normal "+mse.coor("cid12")+"px Verdanda",textAlign:"left",textBaseline:"top"},"Chris Debien",!0);y.addObject(ja);D.addLayer("Couverturedefault",y);u=new mse.BaseContainer(null,{size:[mse.coor("cid0"),mse.coor("cid1")]});F=new mse.Layer(u,1,{globalAlpha:1,textBaseline:"top",
size:[mse.coor("cid0"),mse.coor("cid1")]});ka=new mse.Image(F,{size:[mse.coor("cid0"),mse.coor("cid1")],pos:[mse.coor("cid2"),mse.coor("cid2")],fillStyle:"rgb(0, 0, 0)",globalAlpha:1,font:"normal "+mse.coor("cid3")+"px Times"},"src4");F.addObject(ka);u.addLayer("Aidedefault",F);G=new mse.Layer(u,2,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});N=new mse.Image(G,{size:[mse.coor("cid13"),mse.coor("cid14")],pos:[mse.coor("cid15"),mse.coor("cid16")],fillStyle:"rgb(0, 0, 0)",
globalAlpha:1,font:"normal "+mse.coor("cid3")+"px Times"},"src7");G.addObject(N);u.addLayer("button",G);H=new mse.Layer(u,3,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});la=new mse.Text(H,{size:[mse.coor("cid17"),mse.coor("cid18")],pos:[mse.coor("cid19"),mse.coor("cid20")],fillStyle:"rgb(255, 255, 255)",globalAlpha:1,font:"normal "+mse.coor("cid21")+"px Verdana",textAlign:"left",textBaseline:"top"},"Commencer l'histoire",!0);H.addObject(la);u.addLayer("text",H);s=new mse.BaseContainer(null,
{size:[mse.coor("cid0"),mse.coor("cid1")]});z=new mse.Layer(s,1,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});ma=new mse.Image(z,{size:[mse.coor("cid0"),mse.coor("cid1")],pos:[mse.coor("cid2"),mse.coor("cid2")]},"src2");z.addObject(ma);O=new mse.Mask(z,{size:[mse.coor("cid22"),mse.coor("cid1")],pos:[mse.coor("cid23"),mse.coor("cid2")],fillStyle:"rgb(0, 0, 0)",globalAlpha:0.8,font:"normal "+mse.coor("cid3")+"px Times"});z.addObject(O);s.addLayer("Chapitredefault",z);
A=new mse.Layer(s,2,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});P=new mse.Text(A,{size:[mse.coor("cid6"),mse.coor("cid24")],pos:[mse.coor("cid25"),mse.coor("cid26")],fillStyle:"rgb(255, 255, 255)",globalAlpha:1,font:"normal "+mse.coor("cid27")+"px Verdana",textAlign:"left",textBaseline:"top"},"CHASSE A L'HOMME",!0);A.addObject(P);Q=new mse.Text(A,{size:[mse.coor("cid28"),mse.coor("cid29")],pos:[mse.coor("cid30"),mse.coor("cid31")],fillStyle:"rgb(255, 255, 255)",globalAlpha:1,
font:"normal "+mse.coor("cid27")+"px Verdana",textAlign:"left",textBaseline:"top"},"Chapitre I",!0);A.addObject(Q);s.addLayer("Text",A);v=new mse.BaseContainer(null,{size:[mse.coor("cid0"),mse.coor("cid1")]});I=new mse.Layer(v,1,{globalAlpha:1,textBaseline:"top",size:[mse.coor("cid0"),mse.coor("cid1")]});B=new mse.Image(I,{size:[mse.coor("cid0"),mse.coor("cid1")],pos:[mse.coor("cid2"),mse.coor("cid2")]},"src2");I.addObject(B);v.addLayer("Contentdefault",I);J=new mse.Layer(v,2,{globalAlpha:1,textBaseline:"top",
size:[mse.coor("cid0"),mse.coor("cid1")]});na=new mse.Mask(J,{size:[mse.coor("cid22"),mse.coor("cid1")],pos:[mse.coor("cid23"),mse.coor("cid2")],fillStyle:"rgb(0, 0, 0)",globalAlpha:0.8,font:"normal "+mse.coor("cid3")+"px Times",textAlign:"left"});J.addObject(na);v.addLayer("mask",J);c=new mse.ArticleLayer(v,3,{size:[mse.coor("cid32"),mse.coor("cid33")],pos:[mse.coor("cid34"),mse.coor("cid35")],fillStyle:"rgb(255, 255, 255)",globalAlpha:1,font:"normal "+mse.coor("cid36")+"px Verdana",textAlign:"left",
textBaseline:"top",lineHeight:mse.coor("cid12")},null);oa=new mse.UIObject(c,{fillStyle:"initial"});c.addObject(oa);pa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Ils \u00e9taient l\u00e0. ",!0);c.addObject(pa);qa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00c0 moins de cent m\u00e8tres ",!0);c.addObject(qa);ra=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"derri\u00e8re Simon. Bien d\u00e9cid\u00e9s ",!0);c.addObject(ra);sa=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"\u00e0 lui faire payer l\u2019affront ",!0);c.addObject(sa);ta=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"qu\u2019ils avaient subi.",!0);c.addObject(ta);ua=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"La Meute. ",!0);c.addObject(ua);va=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Quatre adolescents qui ",!0);c.addObject(va);wa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"faisaient r\u00e9gner leur loi au ",!0);
c.addObject(wa);xa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"sein du foyer.",!0);c.addObject(xa);ya=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Recroquevill\u00e9 dans la ",!0);c.addObject(ya);za=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"p\u00e9nombre d\u2019un porche, ",!0);c.addObject(za);Aa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"L\u2019adolescent contemplait le ",!0);c.addObject(Aa);Ba=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"ballet des lampes torches qui ",!0);c.addObject(Ba);Ca=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"d\u00e9chiraient la nuit. Des ",!0);c.addObject(Ca);Da=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"yeux, scrutant le moindre ",!0);c.addObject(Da);Ea=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"recoin, repoussant les ",!0);c.addObject(Ea);Fa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"t\u00e9n\u00e8bres de leurs lueurs ",
!0);c.addObject(Fa);R=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"cyclopes. ",!0);R.addLink(new mse.Link("cyclopes",18,"wiki",n));c.addObject(R);Ga=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Bient\u00f4t, ils seraient sur lui. ",!0);c.addObject(Ga);Ha=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon frissonna en songeant ",!0);c.addObject(Ha);Ia=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e0 ce qui allait lui arriver. Il ",
!0);c.addObject(Ia);Ja=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"savait que Kevin, leur chef, ",!0);c.addObject(Ja);Ka=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"serait sans piti\u00e9\u2026  ",!0);c.addObject(Ka);La=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il fallait qu\u2019il leur \u00e9chappe.",!0);c.addObject(La);Ma=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Absolument. Et tant pis s\u2019il ",!0);c.addObject(Ma);Na=new mse.Text(c,
{size:[mse.coor("cid32"),mse.coor("cid12")]},"ne pouvait jamais retourner ",!0);c.addObject(Na);Oa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"au foyer.",!0);c.addObject(Oa);Pa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Les pas se rapprochaient, de ",!0);c.addObject(Pa);Qa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"plus en plus. Il pouvait ",!0);c.addObject(Qa);Ra=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"entendre leurs voix \u00e0 ",
!0);c.addObject(Ra);Sa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"pr\u00e9sent.",!0);c.addObject(Sa);Ta=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Trouvez-moi ce sale petit ",!0);c.addObject(Ta);Ua=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"rat ! Il va comprendre qu\u2019on ",!0);c.addObject(Ua);Va=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"ne peut pas se moquer de ",!0);c.addObject(Va);Wa=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"nous comme \u00e7a !",!0);c.addObject(Wa);Xa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Ouaip, on va lui faire sa ",!0);c.addObject(Xa);S=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"f\u00eate !",!0);c.addObject(S);Ya=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Ca, c\u2019\u00e9tait \u00ab La Fouine \u00bb. ",!0);c.addObject(Ya);Za=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Dix sept ans, un m\u00e8tre ",!0);
c.addObject(Za);$a=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"quatre-vingt, ",!0);c.addObject($a);ab=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"soixante-quinze kilos de ",!0);c.addObject(ab);bb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"violence pure. Une v\u00e9ritable ",!0);c.addObject(bb);cb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"bombe ambulante qui ne ",!0);c.addObject(cb);db=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"demandait qu\u2019\u00e0 exploser. ",!0);c.addObject(db);eb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon se pencha un instant ",!0);c.addObject(eb);fb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"hors de son abri pour ",!0);c.addObject(fb);gb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9valuer ses chances de leur ",!0);c.addObject(gb);hb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9chapper. ",!0);c.addObject(hb);ib=
new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Proche du z\u00e9ro absolu s\u2019il ne ",!0);c.addObject(ib);jb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"bougeait pas de sa cachette. ",!0);c.addObject(jb);kb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Un peu plus s\u2019il tentait une ",!0);c.addObject(kb);lb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"sortie. \u00c0 condition de tomber ",!0);c.addObject(lb);mb=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"sur quelqu\u2019un, un adulte qui ",!0);c.addObject(mb);nb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"saurait \u00e9loigner ses ",!0);c.addObject(nb);ob=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"poursuivants. ",!0);c.addObject(ob);pb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Tu es pr\u00eat ? chuchota-t-il ",!0);c.addObject(pb);qb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e0 Dark.",!0);c.addObject(qb);
T=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Dark. Vador. Son rat albinos. ",!0);T.addLink(new mse.Link("albinos",58,"wiki",o));c.addObject(T);rb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Son plus fid\u00e8le compagnon ",!0);c.addObject(rb);sb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"depuis un an. ",!0);c.addObject(sb);tb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Le seul en v\u00e9rit\u00e9. ",!0);c.addObject(tb);ub=new mse.Text(c,
{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon repoussa l\u2019\u00e9lan de ",!0);c.addObject(ub);vb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"m\u00e9lancolie qui mena\u00e7ait de ",!0);c.addObject(vb);wb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"le submerger et enfouit Dark ",!0);c.addObject(wb);xb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"au fond de son sac. Il passa ",!0);c.addObject(xb);yb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"les lani\u00e8res autour de ses ",!0);c.addObject(yb);U=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9paules et s\u2019\u00e9lan\u00e7a. ",!0);c.addObject(U);zb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Pas de r\u00e9action.",!0);c.addObject(zb);Ab=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il s\u2019\u00e9tait mis \u00e0 courir comme ",!0);c.addObject(Ab);V=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"si sa vie en d\u00e9pendait. ",
!0);c.addObject(V);Bb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Si la \u00ab Meute \u00bb lui tombait ",!0);c.addObject(Bb);Cb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"dessus, il \u00e9tait bon pour un ",!0);c.addObject(Cb);Db=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"passage \u00e0 tabac dans les ",!0);c.addObject(Db);Eb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"r\u00e8gles de l\u2019art. Voil\u00e0 ce qui ",!0);c.addObject(Eb);
Fb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"se passe lorsque l\u2019on refuse ",!0);c.addObject(Fb);Gb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"de soumettre aux plus forts.",!0);c.addObject(Gb);Hb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon \u00e9vitait de regarder ",!0);c.addObject(Hb);Ib=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"dans leur direction, les yeux ",!0);c.addObject(Ib);W=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"riv\u00e9s sur les frondaisons du ",!0);W.addLink(new mse.Link("frondaisons",79,"wiki",C));c.addObject(W);Jb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Parc Montsouris. Des arbres, ",!0);c.addObject(Jb);Kb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"de la p\u00e9nombre et des ",!0);c.addObject(Kb);Lb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"milliards de recoins o\u00f9 il ",!0);c.addObject(Lb);Mb=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"pourrait se dissimuler en ",!0);c.addObject(Mb);Nb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"attendant l\u2019aube. ",!0);c.addObject(Nb);Ob=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"S\u2019il atteignait le jardin, il ",!0);c.addObject(Ob);Pb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"serait sauv\u00e9.",!0);c.addObject(Pb);Qb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Mais, dans sa pr\u00e9cipitation, il ",
!0);c.addObject(Qb);Rb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"butta contre le trottoir. Le ",!0);c.addObject(Rb);Sb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"b\u00e9ton lui arracha une ",!0);c.addObject(Sb);Tb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"plainte. Un cri minuscule.",!0);c.addObject(Tb);Ub=new mse.UIObject(c,{fillStyle:"initial"});c.addObject(Ub);Vb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Il est l\u00e0 !",
!0);c.addObject(Vb);Wb=new mse.UIObject(c,{fillStyle:"initial"});c.addObject(Wb);Xb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Pas assez minuscule, ",!0);c.addObject(Xb);Yb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"visiblement.",!0);c.addObject(Yb);Zb=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon d\u00e9tala tandis que les ",!0);c.addObject(Zb);$b=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"faisceaux accrochaient sa ",!0);
c.addObject($b);ac=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"silhouette. ",!0);c.addObject(ac);bc=new mse.Image(c,{size:[mse.coor("cid37"),mse.coor("cid38")],pos:[mse.coor("cid39"),mse.coor("cid3")]},"src10");c.addObject(bc);cc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Choppez-le ! Faut qu\u2019il ",!0);c.addObject(cc);dc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"comprenne !",!0);c.addObject(dc);ec=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"Que je comprenne quoi ? ",!0);c.addObject(ec);fc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Qu\u2019il faut se laisser faire ? ",!0);c.addObject(fc);gc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Pas question !",!0);c.addObject(gc);X=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il acc\u00e9l\u00e9ra. ",!0);X.addLink(new mse.Link("acc\u00e9l\u00e9ra",105,"audio",mse.src.getSrc("src17")));c.addObject(X);hc=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"Il essayait d\u2019oublier que ses ",!0);c.addObject(hc);ic=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"poumons le br\u00fblaient, qu\u2019il ",!0);c.addObject(ic);jc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9tait \u00e9puis\u00e9 par cette ",!0);c.addObject(jc);kc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"poursuite qui durait depuis ",!0);c.addObject(kc);lc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"des heures, et surtout que la ",!0);c.addObject(lc);mc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"peur mena\u00e7ait de le ",!0);c.addObject(mc);nc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"paralyser \u00e0 tout instant. ",!0);c.addObject(nc);oc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il traversa le boulevard, ",!0);c.addObject(oc);Y=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"d\u00e9clenchant le klaxon ",!0);Y.addLink(new mse.Link("klaxon",
114,"audio",mse.src.getSrc("src18")));c.addObject(Y);Z=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"furieux d\u2019un noctambule ",!0);Z.addLink(new mse.Link("noctambule",115,"wiki",x));c.addObject(Z);pc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9gar\u00e9. Puis il s\u2019engouffra \u00e0 ",!0);c.addObject(pc);aa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"l\u2019abri des arbres. Son sac ",!0);c.addObject(aa);qc=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"ballotait sur ses \u00e9paules et il ",!0);c.addObject(qc);rc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"pensa au pauvre Dark. ",!0);c.addObject(rc);sc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Sans r\u00e9fl\u00e9chir, il p\u00e9n\u00e9tra ",!0);c.addObject(sc);tc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"dans une petite all\u00e9e. Il ",!0);c.addObject(tc);uc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"d\u00e9passa les angles du ",!0);c.addObject(uc);vc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"pavillon m\u00e9t\u00e9o qui s\u2019\u00e9levait ",!0);c.addObject(vc);wc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"dans la p\u00e9nombre, puis il ",!0);c.addObject(wc);xc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"ralentit sa course. ",!0);c.addObject(xc);yc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Pas un bruit.",!0);c.addObject(yc);
zc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Rien d\u2019autre que le vent ",!0);c.addObject(zc);Ac=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"dans les feuilles. ",!0);c.addObject(Ac);Bc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"O\u00f9 \u00e9taient-ils pass\u00e9s ?",!0);c.addObject(Bc);Cc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon s\u2019arr\u00eata, s\u2019accroupit ",!0);c.addObject(Cc);Dc=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"derri\u00e8re un banc scarifi\u00e9 de ",!0);c.addObject(Dc);Ec=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"graffitis. ",!0);c.addObject(Ec);Fc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"L\u00e0 ! Sur sa gauche. ",!0);c.addObject(Fc);Gc=new mse.Image(c,{size:[mse.coor("cid37"),mse.coor("cid40")],pos:[mse.coor("cid39"),mse.coor("cid3")]},"src13");c.addObject(Gc);Hc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il avait reconnu la d\u00e9marche ",
!0);c.addObject(Hc);Ic=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"chaloup\u00e9e de la Fouine, les ",!0);c.addObject(Ic);ba=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"pas lourds de l\u2019Ours \u2013 seize ",!0);ba.addLink(new mse.Link("pas",137,"audio",mse.src.getSrc("src19")));c.addObject(ba);Jc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"ans, un QI inversement ",!0);c.addObject(Jc);Kc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"proportionnel \u00e0 sa force - \u00e0 ",!0);c.addObject(Kc);Lc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"ses c\u00f4t\u00e9s. Les deux autres ",!0);c.addObject(Lc);Mc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"suivaient la ligne de ",!0);c.addObject(Mc);Nc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"tramway qui longeait le parc, ",!0);c.addObject(Nc);Oc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"sur sa droite.",!0);c.addObject(Oc);
Pc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Le groupe s\u2019\u00e9tait s\u00e9par\u00e9 en ",!0);c.addObject(Pc);Qc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"deux et tentait de ",!0);c.addObject(Qc);Rc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"l\u2019encercler.",!0);c.addObject(Rc);Sc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon r\u00e9fl\u00e9chit \u00e0 toute ",!0);c.addObject(Sc);Tc=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"allure. ",!0);c.addObject(Tc);ca=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Le RER ! ",!0);ca.addLink(new mse.Link("RER",149,"audio",mse.src.getSrc("src20")));c.addObject(ca);Uc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"La station ne devait \u00eatre ",!0);c.addObject(Uc);Vc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"qu\u2019\u00e0 quelques dizaines de ",!0);c.addObject(Vc);Wc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"m\u00e8tres devant lui et, m\u00eame ",!0);c.addObject(Wc);Xc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"en ces heures tardives, il y ",!0);c.addObject(Xc);Yc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"aurait sans doute un peu de ",!0);c.addObject(Yc);Zc=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"monde. ",!0);c.addObject(Zc);$c=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il reprit sa progression, ",!0);c.addObject($c);ad=new mse.Text(c,
{size:[mse.coor("cid32"),mse.coor("cid12")]},"lentement, veillant \u00e0 rester ",!0);c.addObject(ad);bd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"invisible. ",!0);c.addObject(bd);cd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Plus que cinquante m\u00e8tres.",!0);c.addObject(cd);dd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il entendait d\u00e9j\u00e0 le ",!0);c.addObject(dd);ed=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"crissement des rames sur les ",
!0);c.addObject(ed);fd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"rails.",!0);c.addObject(fd);gd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Quarante.",!0);c.addObject(gd);hd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - L\u00e0 sur le pont ! Il essaye ",!0);c.addObject(hd);id=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"de rejoindre la gare !",!0);c.addObject(id);jd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Merde ! l\u00e2cha Simon en ",
!0);c.addObject(jd);kd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"reprenant sa course.",!0);c.addObject(kd);ld=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Trente.",!0);c.addObject(ld);md=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Mais la meute, galvanis\u00e9e ",!0);c.addObject(md);nd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"par la proximit\u00e9 de sa proie, ",!0);c.addObject(nd);od=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"se rapprochait rapidement. ",!0);c.addObject(od);pd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Ils avaient de la lumi\u00e8re, ils ",!0);c.addObject(pd);qd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9vitaient les obstacles. ",!0);c.addObject(qd);rd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Surtout ils \u00e9taient plus \u00e2g\u00e9s, ",!0);c.addObject(rd);sd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"plus forts alors que lui \u00e9tait ",
!0);c.addObject(sd);td=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9reint\u00e9, les jambes ",!0);c.addObject(td);ud=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"\u00e9corch\u00e9es par les ronces, au ",!0);c.addObject(ud);vd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"bord de l\u2019asphyxie.",!0);c.addObject(vd);wd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Les deux groupes gagnaient ",!0);c.addObject(wd);xd=new mse.Text(c,
{size:[mse.coor("cid32"),mse.coor("cid12")]},"insensiblement du terrain. ",!0);c.addObject(xd);yd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Bient\u00f4t ils se rejoindraient et ",!0);c.addObject(yd);da=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"ce serait l\u2019hallali.",!0);da.addLink(new mse.Link("l\u2019hallali",182,"wiki",w));c.addObject(da);zd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon obliqua brutalement ",!0);c.addObject(zd);Ad=new mse.Text(c,
{size:[mse.coor("cid32"),mse.coor("cid12")]},"vers le nord pour essayer de ",!0);c.addObject(Ad);Bd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"rejoindre un bouquet ",!0);c.addObject(Bd);Cd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"d\u2019arbres denses. Avec un ",!0);c.addObject(Cd);Dd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"peu de chance, il pourrait les ",!0);c.addObject(Dd);Ed=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"semer. Au pire, il grimperait ",
!0);c.addObject(Ed);Fd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"sur l\u2019un des troncs ",!0);c.addObject(Fd);Gd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"centenaires. ",!0);c.addObject(Gd);Hd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il se pr\u00e9cipita dans le ",!0);c.addObject(Hd);Id=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"bosquet. Les branches ",!0);c.addObject(Id);Jd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"basses fouett\u00e8rent son ",!0);c.addObject(Jd);Kd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"visage, lui arrachant des ",!0);c.addObject(Kd);Ld=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"larmes. ",!0);c.addObject(Ld);Md=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Mais il \u00e9tait presqu\u2019\u00e0 l\u2019abri : ",!0);c.addObject(Md);Nd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"l\u2019obscurit\u00e9 \u00e9tait totale. ",
!0);c.addObject(Nd);Od=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il ignorait vers quoi il ",!0);c.addObject(Od);Pd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"courrait mais il s\u2019en fichait. ",!0);c.addObject(Pd);Qd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il acc\u00e9l\u00e9ra encore et\u2026",!0);c.addObject(Qd);Rd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"S\u2019effondra brutalement, le ",!0);c.addObject(Rd);Sd=new mse.Text(c,
{size:[mse.coor("cid32"),mse.coor("cid12")]},"souffle coup\u00e9, une violente ",!0);c.addObject(Sd);Td=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"douleur barrant sa poitrine. ",!0);c.addObject(Td);Ud=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il venait de heurter quelque ",!0);c.addObject(Ud);Vd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"chose de plein fouet. ",!0);c.addObject(Vd);Wd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"Abasourdi, Simon fouilla ",!0);c.addObject(Wd);Xd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"l\u2019obscurit\u00e9. Il entendait ses ",!0);c.addObject(Xd);Yd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"poursuivants battre les talus ",!0);c.addObject(Yd);Zd=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"et les fourr\u00e9s. ",!0);c.addObject(Zd);$d=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il t\u00e2tonna un instant dans ",!0);c.addObject($d);
ae=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"son sac. ",!0);c.addObject(ae);be=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Sa torche.",!0);c.addObject(be);ce=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Un faible halo de lumi\u00e8re.",!0);c.addObject(ce);de=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Un grillage. ",!0);c.addObject(de);K=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Pi\u00e9g\u00e9 !",!0);c.addObject(K);
ee=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il se redressa en grima\u00e7ant, ",!0);c.addObject(ee);fe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"s\u2019approcha.  ",!0);c.addObject(fe);ge=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Une dizaine de m\u00e8tres en ",!0);c.addObject(ge);he=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"contrebas, le faisceau de sa ",!0);c.addObject(he);ie=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"lampe illumina les reliefs ",!0);c.addObject(ie);je=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"mang\u00e9s de rouille d\u2019une ",!0);c.addObject(je);ke=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"ligne de chemin de fer ",!0);c.addObject(ke);le=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"abandonn\u00e9e.",!0);c.addObject(le);ea=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"La Petite Ceinture. ",!0);ea.addLink(new mse.Link("La Petite Ceinture",
224,"wiki",q));c.addObject(ea);me=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Un \u00e9clat de voix derri\u00e8re lui ",!0);c.addObject(me);ne=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"le fit sursauter.",!0);c.addObject(ne);oe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - On le tient !",!0);c.addObject(oe);pe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon fixa le puits de ",!0);c.addObject(pe);qe=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"t\u00e9n\u00e8bres qui s\u2019\u00e9tendait ",!0);c.addObject(qe);re=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"au-del\u00e0 du grillage.",!0);c.addObject(re);se=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Alors, t\u2019es enfin pr\u00eat \u00e0 ",!0);c.addObject(se);te=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"recevoir ta le\u00e7on ?",!0);c.addObject(te);ue=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Kevin s\u2019approcha dans la ",
!0);c.addObject(ue);ve=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"clart\u00e9 de la lune. Il tendit le ",!0);c.addObject(ve);we=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"bras. Un bruit de ressort. ",!0);c.addObject(we);xe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Une lame apparut au bout ",!0);c.addObject(xe);fa=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"de sa main. ",!0);c.addObject(fa);ye=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"L\u2019adolescent sentait le sang ",!0);c.addObject(ye);ze=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"battre contre ses tempes, ",!0);c.addObject(ze);Ae=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"l\u2019adr\u00e9naline inonder son ",!0);c.addObject(Ae);Be=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"corps. Il voulait gagner du ",!0);c.addObject(Be);Ce=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"temps pour r\u00e9cup\u00e9rer. Pour ",
!0);c.addObject(Ce);De=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"tenter quelque chose. ",!0);c.addObject(De);Ee=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il se retourna face \u00e0 ses ",!0);c.addObject(Ee);Fe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"adversaires.",!0);c.addObject(Fe);Ge=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Je n\u2019ai fait que d\u00e9fendre ",!0);c.addObject(Ge);He=new mse.Text(c,{size:[mse.coor("cid32"),
mse.coor("cid12")]},"Rachel. Vous n\u2019aviez pas le ",!0);c.addObject(He);Ie=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"droit de vous en prendre \u00e0 ",!0);c.addObject(Ie);Je=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"elle. ",!0);c.addObject(Je);Ke=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - T\u2019avais qu\u2019\u00e0 pas te m\u00ealer ",!0);c.addObject(Ke);Le=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"de nos affaires.",
!0);c.addObject(Le);Me=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Quatre contre un, vous ",!0);c.addObject(Me);Ne=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"n\u2019\u00eates que des l\u00e2ches !",!0);c.addObject(Ne);Oe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon avait lanc\u00e9 \u00e7a tout en ",!0);c.addObject(Oe);Pe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"jetant un bref coup d\u2019\u0153il ",!0);c.addObject(Pe);
Qe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"autour de lui. Il avait aper\u00e7u ",!0);c.addObject(Qe);Re=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"la grosse pierre au pied du ",!0);c.addObject(Re);Se=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"grillage. Un bon tremplin\u2026",!0);c.addObject(Se);Te=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Kevin fulminait. ",!0);c.addObject(Te);Ue=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
" - Amenez-le moi ! ",!0);c.addObject(Ue);Ve=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Les trois autres s\u2019\u00e9lanc\u00e8rent. ",!0);c.addObject(Ve);We=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Mais, juste avant que leurs ",!0);c.addObject(We);Xe=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"mains ne se referment sur ",!0);c.addObject(Xe);Ye=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"lui, il s\u2019\u00e9tait jet\u00e9 sur le c\u00f4t\u00e9. ",
!0);c.addObject(Ye);Ze=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"D\u2019une roulade il avait atteint ",!0);c.addObject(Ze);$e=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"la pierre. Il se redressa d\u2019un ",!0);c.addObject($e);af=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"bond, prit appui sur le rocher ",!0);c.addObject(af);bf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"et entreprit l\u2019escalade du ",!0);c.addObject(bf);cf=
new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"grillage.",!0);c.addObject(cf);df=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Il va s\u2019\u00e9chapper ! Faites ",!0);c.addObject(df);ef=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"quelque chose !",!0);c.addObject(ef);ff=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]}," - Mais\u2026 Il ne peut pas aller ",!0);c.addObject(ff);gf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"loin, il n\u2019y a rien apr\u00e8s.",!0);c.addObject(gf);hf=new FindSimon;c.addGame(hf);jf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"C\u2019\u00e9tait vrai.",!0);c.addObject(jf);kf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Il n\u2019y avait plus rien. Rien ",!0);c.addObject(kf);lf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"d\u2019autre qu\u2019un \u00e9norme trou ",!0);c.addObject(lf);mf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},
"de t\u00e9n\u00e8bres. ",!0);c.addObject(mf);nf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Mais il \u00e9tait trop tard pour ",!0);c.addObject(nf);of=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"reculer. ",!0);c.addObject(of);pf=new mse.Text(c,{size:[mse.coor("cid32"),mse.coor("cid12")]},"Simon s\u2019\u00e9lan\u00e7a dans le vide.",!0);c.addObject(pf);c.addObject(new mse.UIObject(c,{size:[c.width,45]}));c.addObject(new mse.Text(c,{pos:[150,0],font:"italic 40px Verdana",
textBaseline:"top",textAlign:"center",fillStyle:"#FFF"},"\u00c0 suivre ...",!0));c.setDefile(1300);v.addLayer("content",c);a=new mse.Animation(22,1,!0);a.block=!0;b=new mse.Mask(null,{pos:[mse.coor("cid2"),mse.coor("cid2")],size:[mse.coor("cid0"),mse.coor("cid1")],fillStyle:"rgb(255, 255, 255)"});a.addObj("obj567",b);b=new mse.Image(null,{pos:[mse.coor("cid41"),mse.coor("cid42")],size:[mse.coor("cid43"),mse.coor("cid44")]},"src0");a.addObj("src0",b);a.addAnimation("obj567",{frame:JSON.parse("[0,1,9,15,21,22]"),
opacity:JSON.parse("[1,0,1,1,0,0]")});a.addAnimation("src0",{frame:JSON.parse("[0,1,9,15,21,22]"),opacity:JSON.parse("[1,0,1,1,0,0]"),pos:[[mse.coor("cid41"),mse.coor("cid42")],[mse.coor("cid41"),mse.coor("cid42")],[mse.coor("cid41"),mse.coor("cid42")],[mse.coor("cid41"),mse.coor("cid42")],[mse.coor("cid2"),mse.coor("cid45")],[mse.coor("cid2"),mse.coor("cid45")]],size:[[mse.coor("cid43"),mse.coor("cid44")],[mse.coor("cid43"),mse.coor("cid44")],[mse.coor("cid43"),mse.coor("cid44")],[mse.coor("cid43"),
mse.coor("cid44")],[mse.coor("cid0"),mse.coor("cid46")],[mse.coor("cid0"),mse.coor("cid46")]]});f=new mse.Animation(89,1,!1);f.block=!0;f.addObj("obj12",O);f.addAnimation("obj12",{frame:JSON.parse("[0,75,88,89]"),opacity:JSON.parse("[0,0,0.800000011921,0.800000011921]")});g=new mse.Animation(101,1,!1);g.block=!0;g.addObj("obj13",P);g.addAnimation("obj13",{frame:JSON.parse("[0,75,88,101]"),opacity:JSON.parse("[0,0,1,1]")});m=new mse.Animation(101,1,!1);m.block=!0;m.addObj("obj14",Q);m.addAnimation("obj14",
{frame:JSON.parse("[0,75,88,101]"),opacity:JSON.parse("[0,0,1,1]")});k=new mse.Animation(58,1,!0);k.block=!0;b=new mse.Sprite(null,{pos:[mse.coor("cid23"),mse.coor("cid54")],size:[mse.coor("cid55"),mse.coor("cid56")]},"src6",[[186,0,119,254]]);k.addObj("src6",b);b.appendFrame([362,0,260,254]);b.appendFrame([0,0,299,254]);b.appendFrame([302,0,199,254]);k.addAnimation("src6",{frame:JSON.parse("[0,13,16,19,22,25,28,31,34,37,40,43,46,49,52,55,58]"),opacity:JSON.parse("[0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0]"),
spriteSeq:JSON.parse("[0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3]"),size:[[mse.coor("cid55"),mse.coor("cid56")],[mse.coor("cid55"),mse.coor("cid56")],[mse.coor("cid55"),mse.coor("cid56")],[mse.coor("cid55"),mse.coor("cid56")],[mse.coor("cid57"),mse.coor("cid56")],[mse.coor("cid57"),mse.coor("cid56")],[mse.coor("cid57"),mse.coor("cid56")],[mse.coor("cid57"),mse.coor("cid56")],[mse.coor("cid59"),mse.coor("cid56")],[mse.coor("cid59"),mse.coor("cid56")],[mse.coor("cid59"),mse.coor("cid56")],[mse.coor("cid59"),
mse.coor("cid56")],[mse.coor("cid62"),mse.coor("cid56")],[mse.coor("cid62"),mse.coor("cid56")],[mse.coor("cid62"),mse.coor("cid56")],[mse.coor("cid62"),mse.coor("cid56")],[mse.coor("cid62"),mse.coor("cid56")]],pos:[[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],[mse.coor("cid23"),mse.coor("cid54")],
[mse.coor("cid58"),mse.coor("cid54"),1],[mse.coor("cid58"),mse.coor("cid54"),1],[mse.coor("cid58"),mse.coor("cid54"),1],[mse.coor("cid60"),mse.coor("cid54")],[mse.coor("cid61"),mse.coor("cid54")],[mse.coor("cid61"),mse.coor("cid54")],[mse.coor("cid61"),mse.coor("cid54")],[mse.coor("cid61"),mse.coor("cid54")],[mse.coor("cid61"),mse.coor("cid54")]]});r=new mse.Animation(63,1,!0);r.block=!0;b=new mse.Image(null,{pos:[mse.coor("cid2"),mse.coor("cid2")],size:[mse.coor("cid0"),mse.coor("cid1")]},"src16");
r.addObj("src16",b);b=new mse.Text(null,{pos:[mse.coor("cid64"),mse.coor("cid65")],size:[mse.coor("cid66"),mse.coor("cid67")],fillStyle:"rgb(255, 255, 255)",textBaseline:"top",font:"normal "+mse.coor("cid63")+"px Verdana",textAlign:"left"},"Pi\u00e9g\u00e9 !!!",!0);r.addObj("obj571",b);r.addAnimation("src16",{frame:JSON.parse("[0,6,22,25,44,50,63]"),opacity:JSON.parse("[0,1,1,1,1,0,0]")});r.addAnimation("obj571",{frame:JSON.parse("[0,6,22,25,44,50,63]"),size:[[mse.coor("cid66"),mse.coor("cid67")],
[mse.coor("cid68"),mse.coor("cid69")],[mse.coor("cid73"),mse.coor("cid74")],[mse.coor("cid78"),mse.coor("cid48")],[mse.coor("cid78"),mse.coor("cid48")],[mse.coor("cid78"),mse.coor("cid48")],[mse.coor("cid78"),mse.coor("cid48")]],fontSize:[mse.coor("cid63"),mse.coor("cid63"),mse.coor("cid70"),mse.coor("cid75"),mse.coor("cid75"),mse.coor("cid75"),mse.coor("cid75")],pos:[[mse.coor("cid64"),mse.coor("cid65")],[mse.coor("cid64"),mse.coor("cid65")],[mse.coor("cid71"),mse.coor("cid72")],[mse.coor("cid76"),
mse.coor("cid77")],[mse.coor("cid76"),mse.coor("cid77")],[mse.coor("cid76"),mse.coor("cid77")],[mse.coor("cid76"),mse.coor("cid77")]],opacity:JSON.parse("[0,0,0.800000011921,1,1,0,0]")});var qf,rf;mse.Script.register([{src:S,type:"show"}],function(){a.start()});mse.Script.register([{src:M,type:"click"}],function(){e.transition(u)});mse.Script.register([{src:N,type:"click"}],function(){e.transition(s)});mse.Script.register([{src:U,type:"firstShow"}],function(){p.start()});mse.Script.register([{src:s,
type:"show"}],function(){f.start()});mse.Script.register([{src:s,type:"show"}],function(){g.start()});mse.Script.register([{src:s,type:"show"}],function(){m.start()});qf=[{src:s,type:"click"}];rf=function(){e.transition(v)};mse.Script.register([{src:f,type:"end"}],function(){mse.Script.register(qf,rf)});mse.Script.register([{src:V,type:"show"}],function(){k.start()});mse.Script.register([{src:aa,type:"firstShow"}],function(){d=B.getWidth();j=B.getHeight();i=imgBoundingInBox("src1",d,j);b=new mse.Image(B.parent,
i,"src1");mse.transition(B,b,25)});mse.Script.register([{src:K,type:"show"}],function(){r.start()});mse.Script.register([{src:K,type:"firstShow"}],function(){mse.src.getSrc("src21").play()});for(var ga=0;ga<c.objList.length;ga++){var ha=c.getObject(ga);ha instanceof mse.Text&&ha.evtDeleg.addListener("firstShow",new mse.Callback(h,null,{typewriter:{}},ha))}mse.src.addSource("cran","./images/cran.png","img",!0);mse.src.addSource("audCran","./audios/cran","aud",!1);var sf=(mse.coor("cid0")-51)/2,tf=
(mse.coor("cid1")-350)/2+140,uf=new mse.Sprite(null,{},"cran",51,210,0,0,51,210),vf=new mse.Sprite(null,{pos:[-12,-127]},"cran",25,196,51,0,25,139),L=new mse.UIObject(null,{});L.count=0;L.angle=-180;L.draw=function(a){10==this.count&&mse.src.getSrc("audCran").play();10<=this.count&&14>=this.count&&(this.angle=-180+180*(this.count-10)/4);this.count++;a.save();a.globalAlpha=this.globalAlpha;a.translate(sf+24,tf+16);a.rotate(this.angle*Math.PI/180);vf.draw(a);a.rotate(-this.angle*Math.PI/180);a.translate(-24,
-16);uf.draw(a);a.restore()};t=new mse.Animation(36,1,!0);t.block=!0;t.addObj("couteau",L);t.addAnimation("couteau",{frame:[0,6,30,36],opacity:[0,1,1,0]});mse.Script.register([{src:fa,type:"show"}],function(){t.start()});mse.currTimeline.start()}createbook();

</script>

</body>
</html>